{"version":3,"file":"index.js","sources":["../../../../node_modules/@babel/runtime/helpers/extends.js","../../../../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../../../../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../../../../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../../../../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../../../../node_modules/@babel/runtime/helpers/nonIterableRest.js","../../../../node_modules/@babel/runtime/helpers/slicedToArray.js","../../../../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../../../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js","../../src/icons/ControlKeyIcon.tsx","../../src/icons/SearchIcon.tsx","../../src/DocSearchButton.tsx","../../../../node_modules/@babel/runtime/helpers/typeof.js","../../../../node_modules/@babel/runtime/helpers/toPrimitive.js","../../../../node_modules/@babel/runtime/helpers/toPropertyKey.js","../../../../node_modules/@babel/runtime/helpers/defineProperty.js","../../../../node_modules/@algolia/autocomplete-core/node_modules/@algolia/autocomplete-shared/dist/esm/flatten.js","../../../../node_modules/@algolia/autocomplete-core/node_modules/@algolia/autocomplete-shared/dist/esm/generateAutocompleteId.js","../../../../node_modules/@algolia/autocomplete-core/node_modules/@algolia/autocomplete-shared/dist/esm/getItemsCount.js","../../../../node_modules/@algolia/autocomplete-core/node_modules/@algolia/autocomplete-shared/dist/esm/noop.js","../../../../node_modules/@algolia/autocomplete-core/node_modules/@algolia/autocomplete-shared/dist/esm/userAgents.js","../../../../node_modules/@algolia/autocomplete-core/node_modules/@algolia/autocomplete-shared/dist/esm/version.js","../../../../node_modules/@algolia/autocomplete-core/dist/esm/utils/createCancelablePromise.js","../../../../node_modules/@algolia/autocomplete-core/dist/esm/utils/getNextActiveItemId.js","../../../../node_modules/@algolia/autocomplete-core/dist/esm/utils/getNormalizedSources.js","../../../../node_modules/@algolia/autocomplete-core/dist/esm/utils/getActiveItem.js","../../../../node_modules/@algolia/autocomplete-core/dist/esm/utils/isSamsung.js","../../../../node_modules/@algolia/autocomplete-core/dist/esm/utils/mapToAlgoliaResponse.js","../../../../node_modules/@algolia/autocomplete-core/dist/esm/createStore.js","../../../../node_modules/@algolia/autocomplete-core/dist/esm/utils/createCancelablePromiseList.js","../../../../node_modules/@algolia/autocomplete-core/dist/esm/getAutocompleteSetters.js","../../../../node_modules/@algolia/autocomplete-core/dist/esm/getDefaultProps.js","../../../../node_modules/@algolia/autocomplete-core/dist/esm/reshape.js","../../../../node_modules/@algolia/autocomplete-core/dist/esm/resolve.js","../../../../node_modules/@algolia/autocomplete-core/dist/esm/onInput.js","../../../../node_modules/@algolia/autocomplete-core/dist/esm/utils/createConcurrentSafePromise.js","../../../../node_modules/@algolia/autocomplete-core/dist/esm/onKeyDown.js","../../../../node_modules/@algolia/autocomplete-core/dist/esm/getPropGetters.js","../../../../node_modules/@algolia/autocomplete-core/dist/esm/utils/isOrContainsNode.js","../../../../node_modules/@algolia/autocomplete-core/dist/esm/metadata.js","../../../../node_modules/@algolia/autocomplete-core/dist/esm/getCompletion.js","../../../../node_modules/@algolia/autocomplete-core/dist/esm/stateReducer.js","../../../../node_modules/@algolia/autocomplete-core/dist/esm/createAutocomplete.js","../../src/TypesenseLogo.tsx","../../src/Footer.tsx","../../src/Hit.tsx","../../src/icons/LoadingIcon.tsx","../../src/icons/RecentIcon.tsx","../../src/icons/ResetIcon.tsx","../../src/icons/SelectIcon.tsx","../../src/icons/SourceIcon.tsx","../../src/icons/StarIcon.tsx","../../src/icons/ErrorIcon.tsx","../../src/icons/NoResultsIcon.tsx","../../src/ErrorScreen.tsx","../../../../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../../../../node_modules/@babel/runtime/helpers/iterableToArray.js","../../../../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../../../../node_modules/@babel/runtime/helpers/toConsumableArray.js","../../src/NoResultsScreen.tsx","../../src/Snippet.tsx","../../src/Results.tsx","../../src/utils/groupBy.ts","../../src/utils/identity.ts","../../src/utils/noop.ts","../../src/utils/removeHighlightTags.ts","../../src/ResultsScreen.tsx","../../src/StartScreen.tsx","../../src/ScreenState.tsx","../../src/SearchBox.tsx","../../src/constants.ts","../../src/stored-searches.ts","../../../../node_modules/@babel/runtime/helpers/asyncToGenerator.js","../../../../node_modules/@babel/runtime/helpers/regeneratorRuntime.js","../../../../node_modules/@babel/runtime/regenerator/index.js","../../src/DocSearchModal.tsx","../../src/useSearchClient.ts","../../src/useTouchEvents.ts","../../src/useTrapFocus.ts","../../src/useDocSearchKeyboardEvents.ts","../../src/DocSearch.tsx","../../src/version.ts"],"sourcesContent":["function _extends() {\n  module.exports = _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _extends.apply(this, arguments);\n}\nmodule.exports = _extends, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableRest = require(\"./nonIterableRest.js\");\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nmodule.exports = _objectWithoutPropertiesLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose.js\");\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nmodule.exports = _objectWithoutProperties, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import React from 'react';\n\nexport function ControlKeyIcon() {\n  return (\n    <svg width=\"15\" height=\"15\" className=\"DocSearch-Control-Key-Icon\">\n      <path\n        d=\"M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953\"\n        strokeWidth=\"1.2\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        strokeLinecap=\"square\"\n      />\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function SearchIcon() {\n  return (\n    <svg\n      width=\"20\"\n      height=\"20\"\n      className=\"DocSearch-Search-Icon\"\n      viewBox=\"0 0 20 20\"\n    >\n      <path\n        d=\"M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n","import React, { useEffect, useState } from 'react';\n\nimport { ControlKeyIcon } from './icons/ControlKeyIcon';\nimport { SearchIcon } from './icons/SearchIcon';\n\nexport type ButtonTranslations = Partial<{\n  buttonText: string;\n  buttonAriaLabel: string;\n}>;\n\nexport type DocSearchButtonProps = React.ComponentProps<'button'> & {\n  translations?: ButtonTranslations;\n};\n\nconst ACTION_KEY_DEFAULT = 'Ctrl' as const;\nconst ACTION_KEY_APPLE = '⌘' as const;\n\nfunction isAppleDevice() {\n  return /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);\n}\n\nexport const DocSearchButton = React.forwardRef<\n  HTMLButtonElement,\n  DocSearchButtonProps\n>(({ translations = {}, ...props }, ref) => {\n  const { buttonText = 'Search', buttonAriaLabel = 'Search' } = translations;\n\n  const [key, setKey] = useState<\n    typeof ACTION_KEY_APPLE | typeof ACTION_KEY_DEFAULT | null\n  >(null);\n\n  useEffect(() => {\n    if (typeof navigator !== 'undefined') {\n      isAppleDevice() ? setKey(ACTION_KEY_APPLE) : setKey(ACTION_KEY_DEFAULT);\n    }\n  }, []);\n\n  return (\n    <button\n      type=\"button\"\n      className=\"DocSearch DocSearch-Button\"\n      aria-label={buttonAriaLabel}\n      {...props}\n      ref={ref}\n    >\n      <span className=\"DocSearch-Button-Container\">\n        <SearchIcon />\n        <span className=\"DocSearch-Button-Placeholder\">{buttonText}</span>\n      </span>\n\n      <span className=\"DocSearch-Button-Keys\">\n        {key !== null && (\n          <>\n            <kbd className=\"DocSearch-Button-Key\">\n              {key === ACTION_KEY_DEFAULT ? <ControlKeyIcon /> : key}\n            </kbd>\n            <kbd className=\"DocSearch-Button-Key\">K</kbd>\n          </>\n        )}\n      </span>\n    </button>\n  );\n});\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nmodule.exports = _toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nmodule.exports = _toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","export function flatten(values) {\n  return values.reduce(function (a, b) {\n    return a.concat(b);\n  }, []);\n}","var autocompleteId = 0;\nexport function generateAutocompleteId() {\n  return \"autocomplete-\".concat(autocompleteId++);\n}","export function getItemsCount(state) {\n  if (state.collections.length === 0) {\n    return 0;\n  }\n\n  return state.collections.reduce(function (sum, collection) {\n    return sum + collection.items.length;\n  }, 0);\n}","export var noop = function noop() {};","import { version } from './version';\nexport var userAgents = [{\n  segment: 'autocomplete-core',\n  version: version\n}];","export var version = '1.8.2';","function createInternalCancelablePromise(promise, initialState) {\n  var state = initialState;\n  return {\n    then: function then(onfulfilled, onrejected) {\n      return createInternalCancelablePromise(promise.then(createCallback(onfulfilled, state, promise), createCallback(onrejected, state, promise)), state);\n    },\n    catch: function _catch(onrejected) {\n      return createInternalCancelablePromise(promise.catch(createCallback(onrejected, state, promise)), state);\n    },\n    finally: function _finally(onfinally) {\n      if (onfinally) {\n        state.onCancelList.push(onfinally);\n      }\n\n      return createInternalCancelablePromise(promise.finally(createCallback(onfinally && function () {\n        state.onCancelList = [];\n        return onfinally();\n      }, state, promise)), state);\n    },\n    cancel: function cancel() {\n      state.isCanceled = true;\n      var callbacks = state.onCancelList;\n      state.onCancelList = [];\n      callbacks.forEach(function (callback) {\n        callback();\n      });\n    },\n    isCanceled: function isCanceled() {\n      return state.isCanceled === true;\n    }\n  };\n}\n\nexport function createCancelablePromise(executor) {\n  return createInternalCancelablePromise(new Promise(function (resolve, reject) {\n    return executor(resolve, reject);\n  }), {\n    isCanceled: false,\n    onCancelList: []\n  });\n}\n\ncreateCancelablePromise.resolve = function (value) {\n  return cancelable(Promise.resolve(value));\n};\n\ncreateCancelablePromise.reject = function (reason) {\n  return cancelable(Promise.reject(reason));\n};\n\nexport function cancelable(promise) {\n  return createInternalCancelablePromise(promise, {\n    isCanceled: false,\n    onCancelList: []\n  });\n}\n\nfunction createCallback(onResult, state, fallback) {\n  if (!onResult) {\n    return fallback;\n  }\n\n  return function callback(arg) {\n    if (state.isCanceled) {\n      return arg;\n    }\n\n    return onResult(arg);\n  };\n}","/**\n * Returns the next active item ID from the current state.\n *\n * We allow circular keyboard navigation from the base index.\n * The base index can either be `null` (nothing is highlighted) or `0`\n * (the first item is highlighted).\n * The base index is allowed to get assigned `null` only if\n * `props.defaultActiveItemId` is `null`. This pattern allows to \"stop\"\n * by the actual query before navigating to other suggestions as seen on\n * Google or Amazon.\n *\n * @param moveAmount The offset to increment (or decrement) the last index\n * @param baseIndex The current index to compute the next index from\n * @param itemCount The number of items\n * @param defaultActiveItemId The default active index to fallback to\n */\nexport function getNextActiveItemId(moveAmount, baseIndex, itemCount, defaultActiveItemId) {\n  if (!itemCount) {\n    return null;\n  }\n\n  if (moveAmount < 0 && (baseIndex === null || defaultActiveItemId !== null && baseIndex === 0)) {\n    return itemCount + moveAmount;\n  }\n\n  var numericIndex = (baseIndex === null ? -1 : baseIndex) + moveAmount;\n\n  if (numericIndex <= -1 || numericIndex >= itemCount) {\n    return defaultActiveItemId === null ? null : 0;\n  }\n\n  return numericIndex;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { invariant, decycle, noop } from '@algolia/autocomplete-shared';\nexport function getNormalizedSources(getSources, params) {\n  var seenSourceIds = [];\n  return Promise.resolve(getSources(params)).then(function (sources) {\n    invariant(Array.isArray(sources), function () {\n      return \"The `getSources` function must return an array of sources but returned type \".concat(JSON.stringify(_typeof(sources)), \":\\n\\n\").concat(JSON.stringify(decycle(sources), null, 2));\n    });\n    return Promise.all(sources // We allow `undefined` and `false` sources to allow users to use\n    // `Boolean(query) && source` (=> `false`).\n    // We need to remove these values at this point.\n    .filter(function (maybeSource) {\n      return Boolean(maybeSource);\n    }).map(function (source) {\n      invariant(typeof source.sourceId === 'string', 'A source must provide a `sourceId` string.');\n\n      if (seenSourceIds.includes(source.sourceId)) {\n        throw new Error(\"[Autocomplete] The `sourceId` \".concat(JSON.stringify(source.sourceId), \" is not unique.\"));\n      }\n\n      seenSourceIds.push(source.sourceId);\n      var defaultSource = {\n        getItemInputValue: function getItemInputValue(_ref) {\n          var state = _ref.state;\n          return state.query;\n        },\n        getItemUrl: function getItemUrl() {\n          return undefined;\n        },\n        onSelect: function onSelect(_ref2) {\n          var setIsOpen = _ref2.setIsOpen;\n          setIsOpen(false);\n        },\n        onActive: noop,\n        onResolve: noop\n      };\n      Object.keys(defaultSource).forEach(function (key) {\n        defaultSource[key].__default = true;\n      });\n\n      var normalizedSource = _objectSpread(_objectSpread({}, defaultSource), source);\n\n      return Promise.resolve(normalizedSource);\n    }));\n  });\n}","// We don't have access to the autocomplete source when we call `onKeyDown`\n// or `onClick` because those are native browser events.\n// However, we can get the source from the suggestion index.\nfunction getCollectionFromActiveItemId(state) {\n  // Given 3 sources with respectively 1, 2 and 3 suggestions: [1, 2, 3]\n  // We want to get the accumulated counts:\n  // [1, 1 + 2, 1 + 2 + 3] = [1, 3, 3 + 3] = [1, 3, 6]\n  var accumulatedCollectionsCount = state.collections.map(function (collections) {\n    return collections.items.length;\n  }).reduce(function (acc, collectionsCount, index) {\n    var previousValue = acc[index - 1] || 0;\n    var nextValue = previousValue + collectionsCount;\n    acc.push(nextValue);\n    return acc;\n  }, []); // Based on the accumulated counts, we can infer the index of the suggestion.\n\n  var collectionIndex = accumulatedCollectionsCount.reduce(function (acc, current) {\n    if (current <= state.activeItemId) {\n      return acc + 1;\n    }\n\n    return acc;\n  }, 0);\n  return state.collections[collectionIndex];\n}\n/**\n * Gets the highlighted index relative to a suggestion object (not the absolute\n * highlighted index).\n *\n * Example:\n *  [['a', 'b'], ['c', 'd', 'e'], ['f']]\n *                      ↑\n *         (absolute: 3, relative: 1)\n */\n\n\nfunction getRelativeActiveItemId(_ref) {\n  var state = _ref.state,\n      collection = _ref.collection;\n  var isOffsetFound = false;\n  var counter = 0;\n  var previousItemsOffset = 0;\n\n  while (isOffsetFound === false) {\n    var currentCollection = state.collections[counter];\n\n    if (currentCollection === collection) {\n      isOffsetFound = true;\n      break;\n    }\n\n    previousItemsOffset += currentCollection.items.length;\n    counter++;\n  }\n\n  return state.activeItemId - previousItemsOffset;\n}\n\nexport function getActiveItem(state) {\n  var collection = getCollectionFromActiveItemId(state);\n\n  if (!collection) {\n    return null;\n  }\n\n  var item = collection.items[getRelativeActiveItemId({\n    state: state,\n    collection: collection\n  })];\n  var source = collection.source;\n  var itemInputValue = source.getItemInputValue({\n    item: item,\n    state: state\n  });\n  var itemUrl = source.getItemUrl({\n    item: item,\n    state: state\n  });\n  return {\n    item: item,\n    itemInputValue: itemInputValue,\n    itemUrl: itemUrl,\n    source: source\n  };\n}","var regex = /((gt|sm)-|galaxy nexus)|samsung[- ]/i;\nexport function isSamsung(userAgent) {\n  return Boolean(userAgent && userAgent.match(regex));\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport function mapToAlgoliaResponse(rawResults) {\n  var results = rawResults.map(function (result) {\n    var _hits;\n\n    return _objectSpread(_objectSpread({}, result), {}, {\n      hits: (_hits = result.hits) === null || _hits === void 0 ? void 0 : _hits.map(function (hit) {\n        // Bring support for the Insights plugin.\n        return _objectSpread(_objectSpread({}, hit), {}, {\n          __autocomplete_indexName: result.index,\n          __autocomplete_queryID: result.queryID\n        });\n      })\n    });\n  });\n  return {\n    results: results,\n    hits: results.map(function (result) {\n      return result.hits;\n    }).filter(Boolean),\n    facetHits: results.map(function (result) {\n      var _facetHits;\n\n      return (_facetHits = result.facetHits) === null || _facetHits === void 0 ? void 0 : _facetHits.map(function (facetHit) {\n        // Bring support for the highlighting components.\n        return {\n          label: facetHit.value,\n          count: facetHit.count,\n          _highlightResult: {\n            label: {\n              value: facetHit.highlighted\n            }\n          }\n        };\n      });\n    }).filter(Boolean)\n  };\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { createCancelablePromiseList } from './utils';\nexport function createStore(reducer, props, onStoreStateChange) {\n  var state = props.initialState;\n  return {\n    getState: function getState() {\n      return state;\n    },\n    dispatch: function dispatch(action, payload) {\n      var prevState = _objectSpread({}, state);\n\n      state = reducer(state, {\n        type: action,\n        props: props,\n        payload: payload\n      });\n      onStoreStateChange({\n        state: state,\n        prevState: prevState\n      });\n    },\n    pendingRequests: createCancelablePromiseList()\n  };\n}","export function createCancelablePromiseList() {\n  var list = [];\n  return {\n    add: function add(cancelablePromise) {\n      list.push(cancelablePromise);\n      return cancelablePromise.finally(function () {\n        list = list.filter(function (item) {\n          return item !== cancelablePromise;\n        });\n      });\n    },\n    cancelAll: function cancelAll() {\n      list.forEach(function (promise) {\n        return promise.cancel();\n      });\n    },\n    isEmpty: function isEmpty() {\n      return list.length === 0;\n    }\n  };\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { flatten } from '@algolia/autocomplete-shared';\nexport function getAutocompleteSetters(_ref) {\n  var store = _ref.store;\n\n  var setActiveItemId = function setActiveItemId(value) {\n    store.dispatch('setActiveItemId', value);\n  };\n\n  var setQuery = function setQuery(value) {\n    store.dispatch('setQuery', value);\n  };\n\n  var setCollections = function setCollections(rawValue) {\n    var baseItemId = 0;\n    var value = rawValue.map(function (collection) {\n      return _objectSpread(_objectSpread({}, collection), {}, {\n        // We flatten the stored items to support calling `getAlgoliaResults`\n        // from the source itself.\n        items: flatten(collection.items).map(function (item) {\n          return _objectSpread(_objectSpread({}, item), {}, {\n            __autocomplete_id: baseItemId++\n          });\n        })\n      });\n    });\n    store.dispatch('setCollections', value);\n  };\n\n  var setIsOpen = function setIsOpen(value) {\n    store.dispatch('setIsOpen', value);\n  };\n\n  var setStatus = function setStatus(value) {\n    store.dispatch('setStatus', value);\n  };\n\n  var setContext = function setContext(value) {\n    store.dispatch('setContext', value);\n  };\n\n  return {\n    setActiveItemId: setActiveItemId,\n    setQuery: setQuery,\n    setCollections: setCollections,\n    setIsOpen: setIsOpen,\n    setStatus: setStatus,\n    setContext: setContext\n  };\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { getItemsCount, generateAutocompleteId, flatten } from '@algolia/autocomplete-shared';\nimport { getNormalizedSources } from './utils';\nexport function getDefaultProps(props, pluginSubscribers) {\n  var _props$id;\n\n  /* eslint-disable no-restricted-globals */\n  var environment = typeof window !== 'undefined' ? window : {};\n  /* eslint-enable no-restricted-globals */\n\n  var plugins = props.plugins || [];\n  return _objectSpread(_objectSpread({\n    debug: false,\n    openOnFocus: false,\n    placeholder: '',\n    autoFocus: false,\n    defaultActiveItemId: null,\n    stallThreshold: 300,\n    environment: environment,\n    shouldPanelOpen: function shouldPanelOpen(_ref) {\n      var state = _ref.state;\n      return getItemsCount(state) > 0;\n    },\n    reshape: function reshape(_ref2) {\n      var sources = _ref2.sources;\n      return sources;\n    }\n  }, props), {}, {\n    // Since `generateAutocompleteId` triggers a side effect (it increments\n    // an internal counter), we don't want to execute it if unnecessary.\n    id: (_props$id = props.id) !== null && _props$id !== void 0 ? _props$id : generateAutocompleteId(),\n    plugins: plugins,\n    // The following props need to be deeply defaulted.\n    initialState: _objectSpread({\n      activeItemId: null,\n      query: '',\n      completion: null,\n      collections: [],\n      isOpen: false,\n      status: 'idle',\n      context: {}\n    }, props.initialState),\n    onStateChange: function onStateChange(params) {\n      var _props$onStateChange;\n\n      (_props$onStateChange = props.onStateChange) === null || _props$onStateChange === void 0 ? void 0 : _props$onStateChange.call(props, params);\n      plugins.forEach(function (x) {\n        var _x$onStateChange;\n\n        return (_x$onStateChange = x.onStateChange) === null || _x$onStateChange === void 0 ? void 0 : _x$onStateChange.call(x, params);\n      });\n    },\n    onSubmit: function onSubmit(params) {\n      var _props$onSubmit;\n\n      (_props$onSubmit = props.onSubmit) === null || _props$onSubmit === void 0 ? void 0 : _props$onSubmit.call(props, params);\n      plugins.forEach(function (x) {\n        var _x$onSubmit;\n\n        return (_x$onSubmit = x.onSubmit) === null || _x$onSubmit === void 0 ? void 0 : _x$onSubmit.call(x, params);\n      });\n    },\n    onReset: function onReset(params) {\n      var _props$onReset;\n\n      (_props$onReset = props.onReset) === null || _props$onReset === void 0 ? void 0 : _props$onReset.call(props, params);\n      plugins.forEach(function (x) {\n        var _x$onReset;\n\n        return (_x$onReset = x.onReset) === null || _x$onReset === void 0 ? void 0 : _x$onReset.call(x, params);\n      });\n    },\n    getSources: function getSources(params) {\n      return Promise.all([].concat(_toConsumableArray(plugins.map(function (plugin) {\n        return plugin.getSources;\n      })), [props.getSources]).filter(Boolean).map(function (getSources) {\n        return getNormalizedSources(getSources, params);\n      })).then(function (nested) {\n        return flatten(nested);\n      }).then(function (sources) {\n        return sources.map(function (source) {\n          return _objectSpread(_objectSpread({}, source), {}, {\n            onSelect: function onSelect(params) {\n              source.onSelect(params);\n              pluginSubscribers.forEach(function (x) {\n                var _x$onSelect;\n\n                return (_x$onSelect = x.onSelect) === null || _x$onSelect === void 0 ? void 0 : _x$onSelect.call(x, params);\n              });\n            },\n            onActive: function onActive(params) {\n              source.onActive(params);\n              pluginSubscribers.forEach(function (x) {\n                var _x$onActive;\n\n                return (_x$onActive = x.onActive) === null || _x$onActive === void 0 ? void 0 : _x$onActive.call(x, params);\n              });\n            },\n            onResolve: function onResolve(params) {\n              source.onResolve(params);\n              pluginSubscribers.forEach(function (x) {\n                var _x$onResolve;\n\n                return (_x$onResolve = x.onResolve) === null || _x$onResolve === void 0 ? void 0 : _x$onResolve.call(x, params);\n              });\n            }\n          });\n        });\n      });\n    },\n    navigator: _objectSpread({\n      navigate: function navigate(_ref3) {\n        var itemUrl = _ref3.itemUrl;\n        environment.location.assign(itemUrl);\n      },\n      navigateNewTab: function navigateNewTab(_ref4) {\n        var itemUrl = _ref4.itemUrl;\n        var windowReference = environment.open(itemUrl, '_blank', 'noopener');\n        windowReference === null || windowReference === void 0 ? void 0 : windowReference.focus();\n      },\n      navigateNewWindow: function navigateNewWindow(_ref5) {\n        var itemUrl = _ref5.itemUrl;\n        environment.open(itemUrl, '_blank', 'noopener');\n      }\n    }, props.navigator)\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { flatten } from '@algolia/autocomplete-shared';\nexport function reshape(_ref) {\n  var collections = _ref.collections,\n      props = _ref.props,\n      state = _ref.state;\n  // Sources are grouped by `sourceId` to conveniently pick them via destructuring.\n  // Example: `const { recentSearchesPlugin } = sourcesBySourceId`\n  var originalSourcesBySourceId = collections.reduce(function (acc, collection) {\n    return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, collection.source.sourceId, _objectSpread(_objectSpread({}, collection.source), {}, {\n      getItems: function getItems() {\n        // We provide the resolved items from the collection to the `reshape` prop.\n        return flatten(collection.items);\n      }\n    })));\n  }, {});\n\n  var _props$plugins$reduce = props.plugins.reduce(function (acc, plugin) {\n    if (plugin.reshape) {\n      return plugin.reshape(acc);\n    }\n\n    return acc;\n  }, {\n    sourcesBySourceId: originalSourcesBySourceId,\n    state: state\n  }),\n      sourcesBySourceId = _props$plugins$reduce.sourcesBySourceId;\n\n  var reshapeSources = props.reshape({\n    sourcesBySourceId: sourcesBySourceId,\n    sources: Object.values(sourcesBySourceId),\n    state: state\n  }); // We reconstruct the collections with the items modified by the `reshape` prop.\n\n  return flatten(reshapeSources).filter(Boolean).map(function (source) {\n    return {\n      source: source,\n      items: source.getItems()\n    };\n  });\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { decycle, flatten, invariant } from '@algolia/autocomplete-shared';\nimport { mapToAlgoliaResponse } from './utils';\n\nfunction isDescription(item) {\n  return Boolean(item.execute);\n}\n\nfunction isRequesterDescription(description) {\n  return Boolean(description === null || description === void 0 ? void 0 : description.execute);\n}\n\nexport function preResolve(itemsOrDescription, sourceId, state) {\n  if (isRequesterDescription(itemsOrDescription)) {\n    var contextParameters = itemsOrDescription.requesterId === 'algolia' ? Object.assign.apply(Object, [{}].concat(_toConsumableArray(Object.keys(state.context).map(function (key) {\n      var _state$context$key;\n\n      return (_state$context$key = state.context[key]) === null || _state$context$key === void 0 ? void 0 : _state$context$key.__algoliaSearchParameters;\n    })))) : {};\n    return _objectSpread(_objectSpread({}, itemsOrDescription), {}, {\n      requests: itemsOrDescription.queries.map(function (query) {\n        return {\n          query: itemsOrDescription.requesterId === 'algolia' ? _objectSpread(_objectSpread({}, query), {}, {\n            params: _objectSpread(_objectSpread({}, contextParameters), query.params)\n          }) : query,\n          sourceId: sourceId,\n          transformResponse: itemsOrDescription.transformResponse\n        };\n      })\n    });\n  }\n\n  return {\n    items: itemsOrDescription,\n    sourceId: sourceId\n  };\n}\nexport function resolve(items) {\n  var packed = items.reduce(function (acc, current) {\n    if (!isDescription(current)) {\n      acc.push(current);\n      return acc;\n    }\n\n    var searchClient = current.searchClient,\n        execute = current.execute,\n        requesterId = current.requesterId,\n        requests = current.requests;\n    var container = acc.find(function (item) {\n      return isDescription(current) && isDescription(item) && item.searchClient === searchClient && Boolean(requesterId) && item.requesterId === requesterId;\n    });\n\n    if (container) {\n      var _container$items;\n\n      (_container$items = container.items).push.apply(_container$items, _toConsumableArray(requests));\n    } else {\n      var request = {\n        execute: execute,\n        requesterId: requesterId,\n        items: requests,\n        searchClient: searchClient\n      };\n      acc.push(request);\n    }\n\n    return acc;\n  }, []);\n  var values = packed.map(function (maybeDescription) {\n    if (!isDescription(maybeDescription)) {\n      return Promise.resolve(maybeDescription);\n    }\n\n    var _ref = maybeDescription,\n        execute = _ref.execute,\n        items = _ref.items,\n        searchClient = _ref.searchClient;\n    return execute({\n      searchClient: searchClient,\n      requests: items\n    });\n  });\n  return Promise.all(values).then(function (responses) {\n    return flatten(responses);\n  });\n}\nexport function postResolve(responses, sources, store) {\n  return sources.map(function (source) {\n    var matches = responses.filter(function (response) {\n      return response.sourceId === source.sourceId;\n    });\n    var results = matches.map(function (_ref2) {\n      var items = _ref2.items;\n      return items;\n    });\n    var transform = matches[0].transformResponse;\n    var items = transform ? transform(mapToAlgoliaResponse(results)) : results;\n    source.onResolve({\n      source: source,\n      results: results,\n      items: items,\n      state: store.getState()\n    });\n    invariant(Array.isArray(items), function () {\n      return \"The `getItems` function from source \\\"\".concat(source.sourceId, \"\\\" must return an array of items but returned type \").concat(JSON.stringify(_typeof(items)), \":\\n\\n\").concat(JSON.stringify(decycle(items), null, 2), \".\\n\\nSee: https://www.algolia.com/doc/ui-libraries/autocomplete/core-concepts/sources/#param-getitems\");\n    });\n    invariant(items.every(Boolean), \"The `getItems` function from source \\\"\".concat(source.sourceId, \"\\\" must return an array of items but returned \").concat(JSON.stringify(undefined), \".\\n\\nDid you forget to return items?\\n\\nSee: https://www.algolia.com/doc/ui-libraries/autocomplete/core-concepts/sources/#param-getitems\"));\n    return {\n      source: source,\n      items: items\n    };\n  });\n}","var _excluded = [\"event\", \"nextState\", \"props\", \"query\", \"refresh\", \"store\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { reshape } from './reshape';\nimport { preResolve, resolve, postResolve } from './resolve';\nimport { cancelable, createConcurrentSafePromise, getActiveItem } from './utils';\nvar lastStalledId = null;\nvar runConcurrentSafePromise = createConcurrentSafePromise();\nexport function onInput(_ref) {\n  var event = _ref.event,\n      _ref$nextState = _ref.nextState,\n      nextState = _ref$nextState === void 0 ? {} : _ref$nextState,\n      props = _ref.props,\n      query = _ref.query,\n      refresh = _ref.refresh,\n      store = _ref.store,\n      setters = _objectWithoutProperties(_ref, _excluded);\n\n  if (lastStalledId) {\n    props.environment.clearTimeout(lastStalledId);\n  }\n\n  var setCollections = setters.setCollections,\n      setIsOpen = setters.setIsOpen,\n      setQuery = setters.setQuery,\n      setActiveItemId = setters.setActiveItemId,\n      setStatus = setters.setStatus;\n  setQuery(query);\n  setActiveItemId(props.defaultActiveItemId);\n\n  if (!query && props.openOnFocus === false) {\n    var _nextState$isOpen;\n\n    var collections = store.getState().collections.map(function (collection) {\n      return _objectSpread(_objectSpread({}, collection), {}, {\n        items: []\n      });\n    });\n    setStatus('idle');\n    setCollections(collections);\n    setIsOpen((_nextState$isOpen = nextState.isOpen) !== null && _nextState$isOpen !== void 0 ? _nextState$isOpen : props.shouldPanelOpen({\n      state: store.getState()\n    })); // We make sure to update the latest resolved value of the tracked\n    // promises to keep late resolving promises from \"cancelling\" the state\n    // updates performed in this code path.\n    // We chain with a void promise to respect `onInput`'s expected return type.\n\n    var _request = cancelable(runConcurrentSafePromise(collections).then(function () {\n      return Promise.resolve();\n    }));\n\n    return store.pendingRequests.add(_request);\n  }\n\n  setStatus('loading');\n  lastStalledId = props.environment.setTimeout(function () {\n    setStatus('stalled');\n  }, props.stallThreshold); // We track the entire promise chain triggered by `onInput` before mutating\n  // the Autocomplete state to make sure that any state manipulation is based on\n  // fresh data regardless of when promises individually resolve.\n  // We don't track nested promises and only rely on the full chain resolution,\n  // meaning we should only ever manipulate the state once this concurrent-safe\n  // promise is resolved.\n\n  var request = cancelable(runConcurrentSafePromise(props.getSources(_objectSpread({\n    query: query,\n    refresh: refresh,\n    state: store.getState()\n  }, setters)).then(function (sources) {\n    return Promise.all(sources.map(function (source) {\n      return Promise.resolve(source.getItems(_objectSpread({\n        query: query,\n        refresh: refresh,\n        state: store.getState()\n      }, setters))).then(function (itemsOrDescription) {\n        return preResolve(itemsOrDescription, source.sourceId, store.getState());\n      });\n    })).then(resolve).then(function (responses) {\n      return postResolve(responses, sources, store);\n    }).then(function (collections) {\n      return reshape({\n        collections: collections,\n        props: props,\n        state: store.getState()\n      });\n    });\n  }))).then(function (collections) {\n    var _nextState$isOpen2;\n\n    // Parameters passed to `onInput` could be stale when the following code\n    // executes, because `onInput` calls may not resolve in order.\n    // If it becomes a problem we'll need to save the last passed parameters.\n    // See: https://codesandbox.io/s/agitated-cookies-y290z\n    setStatus('idle');\n    setCollections(collections);\n    var isPanelOpen = props.shouldPanelOpen({\n      state: store.getState()\n    });\n    setIsOpen((_nextState$isOpen2 = nextState.isOpen) !== null && _nextState$isOpen2 !== void 0 ? _nextState$isOpen2 : props.openOnFocus && !query && isPanelOpen || isPanelOpen);\n    var highlightedItem = getActiveItem(store.getState());\n\n    if (store.getState().activeItemId !== null && highlightedItem) {\n      var item = highlightedItem.item,\n          itemInputValue = highlightedItem.itemInputValue,\n          itemUrl = highlightedItem.itemUrl,\n          source = highlightedItem.source;\n      source.onActive(_objectSpread({\n        event: event,\n        item: item,\n        itemInputValue: itemInputValue,\n        itemUrl: itemUrl,\n        refresh: refresh,\n        source: source,\n        state: store.getState()\n      }, setters));\n    }\n  }).finally(function () {\n    setStatus('idle');\n\n    if (lastStalledId) {\n      props.environment.clearTimeout(lastStalledId);\n    }\n  });\n  return store.pendingRequests.add(request);\n}","/**\n * Creates a runner that executes promises in a concurrent-safe way.\n *\n * This is useful to prevent older promises to resolve after a newer promise,\n * otherwise resulting in stale resolved values.\n */\nexport function createConcurrentSafePromise() {\n  var basePromiseId = -1;\n  var latestResolvedId = -1;\n  var latestResolvedValue = undefined;\n  return function runConcurrentSafePromise(promise) {\n    basePromiseId++;\n    var currentPromiseId = basePromiseId;\n    return Promise.resolve(promise).then(function (x) {\n      // The promise might take too long to resolve and get outdated. This would\n      // result in resolving stale values.\n      // When this happens, we ignore the promise value and return the one\n      // coming from the latest resolved value.\n      //\n      // +----------------------------------+\n      // |        100ms                     |\n      // | run(1) +--->  R1                 |\n      // |        300ms                     |\n      // | run(2) +-------------> R2 (SKIP) |\n      // |        200ms                     |\n      // | run(3) +--------> R3             |\n      // +----------------------------------+\n      if (latestResolvedValue && currentPromiseId < latestResolvedId) {\n        return latestResolvedValue;\n      }\n\n      latestResolvedId = currentPromiseId;\n      latestResolvedValue = x;\n      return x;\n    });\n  };\n}","var _excluded = [\"event\", \"props\", \"refresh\", \"store\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { onInput } from './onInput';\nimport { getActiveItem } from './utils';\nexport function onKeyDown(_ref) {\n  var event = _ref.event,\n      props = _ref.props,\n      refresh = _ref.refresh,\n      store = _ref.store,\n      setters = _objectWithoutProperties(_ref, _excluded);\n\n  if (event.key === 'ArrowUp' || event.key === 'ArrowDown') {\n    // eslint-disable-next-line no-inner-declarations\n    var triggerScrollIntoView = function triggerScrollIntoView() {\n      var nodeItem = props.environment.document.getElementById(\"\".concat(props.id, \"-item-\").concat(store.getState().activeItemId));\n\n      if (nodeItem) {\n        if (nodeItem.scrollIntoViewIfNeeded) {\n          nodeItem.scrollIntoViewIfNeeded(false);\n        } else {\n          nodeItem.scrollIntoView(false);\n        }\n      }\n    }; // eslint-disable-next-line no-inner-declarations\n\n\n    var triggerOnActive = function triggerOnActive() {\n      var highlightedItem = getActiveItem(store.getState());\n\n      if (store.getState().activeItemId !== null && highlightedItem) {\n        var item = highlightedItem.item,\n            itemInputValue = highlightedItem.itemInputValue,\n            itemUrl = highlightedItem.itemUrl,\n            source = highlightedItem.source;\n        source.onActive(_objectSpread({\n          event: event,\n          item: item,\n          itemInputValue: itemInputValue,\n          itemUrl: itemUrl,\n          refresh: refresh,\n          source: source,\n          state: store.getState()\n        }, setters));\n      }\n    }; // Default browser behavior changes the caret placement on ArrowUp and\n    // ArrowDown.\n\n\n    event.preventDefault(); // When re-opening the panel, we need to split the logic to keep the actions\n    // synchronized as `onInput` returns a promise.\n\n    if (store.getState().isOpen === false && (props.openOnFocus || Boolean(store.getState().query))) {\n      onInput(_objectSpread({\n        event: event,\n        props: props,\n        query: store.getState().query,\n        refresh: refresh,\n        store: store\n      }, setters)).then(function () {\n        store.dispatch(event.key, {\n          nextActiveItemId: props.defaultActiveItemId\n        });\n        triggerOnActive(); // Since we rely on the DOM, we need to wait for all the micro tasks to\n        // finish (which include re-opening the panel) to make sure all the\n        // elements are available.\n\n        setTimeout(triggerScrollIntoView, 0);\n      });\n    } else {\n      store.dispatch(event.key, {});\n      triggerOnActive();\n      triggerScrollIntoView();\n    }\n  } else if (event.key === 'Escape') {\n    // This prevents the default browser behavior on `input[type=\"search\"]`\n    // from removing the query right away because we first want to close the\n    // panel.\n    event.preventDefault();\n    store.dispatch(event.key, null); // Hitting the `Escape` key signals the end of a user interaction with the\n    // autocomplete. At this point, we should ignore any requests that are still\n    // pending and could reopen the panel once they resolve, because that would\n    // result in an unsolicited UI behavior.\n\n    store.pendingRequests.cancelAll();\n  } else if (event.key === 'Tab') {\n    store.dispatch('blur', null); // Hitting the `Escape` key signals the end of a user interaction with the\n    // autocomplete. At this point, we should ignore any requests that are still\n    // pending and could reopen the panel once they resolve, because that would\n    // result in an unsolicited UI behavior.\n\n    store.pendingRequests.cancelAll();\n  } else if (event.key === 'Enter') {\n    // No active item, so we let the browser handle the native `onSubmit` form\n    // event.\n    if (store.getState().activeItemId === null || store.getState().collections.every(function (collection) {\n      return collection.items.length === 0;\n    })) {\n      // If requests are still pending when the panel closes, they could reopen\n      // the panel once they resolve.\n      // We want to prevent any subsequent query from reopening the panel\n      // because it would result in an unsolicited UI behavior.\n      if (!props.debug) {\n        store.pendingRequests.cancelAll();\n      }\n\n      return;\n    } // This prevents the `onSubmit` event to be sent because an item is\n    // highlighted.\n\n\n    event.preventDefault();\n\n    var _ref2 = getActiveItem(store.getState()),\n        item = _ref2.item,\n        itemInputValue = _ref2.itemInputValue,\n        itemUrl = _ref2.itemUrl,\n        source = _ref2.source;\n\n    if (event.metaKey || event.ctrlKey) {\n      if (itemUrl !== undefined) {\n        source.onSelect(_objectSpread({\n          event: event,\n          item: item,\n          itemInputValue: itemInputValue,\n          itemUrl: itemUrl,\n          refresh: refresh,\n          source: source,\n          state: store.getState()\n        }, setters));\n        props.navigator.navigateNewTab({\n          itemUrl: itemUrl,\n          item: item,\n          state: store.getState()\n        });\n      }\n    } else if (event.shiftKey) {\n      if (itemUrl !== undefined) {\n        source.onSelect(_objectSpread({\n          event: event,\n          item: item,\n          itemInputValue: itemInputValue,\n          itemUrl: itemUrl,\n          refresh: refresh,\n          source: source,\n          state: store.getState()\n        }, setters));\n        props.navigator.navigateNewWindow({\n          itemUrl: itemUrl,\n          item: item,\n          state: store.getState()\n        });\n      }\n    } else if (event.altKey) {// Keep native browser behavior\n    } else {\n      if (itemUrl !== undefined) {\n        source.onSelect(_objectSpread({\n          event: event,\n          item: item,\n          itemInputValue: itemInputValue,\n          itemUrl: itemUrl,\n          refresh: refresh,\n          source: source,\n          state: store.getState()\n        }, setters));\n        props.navigator.navigate({\n          itemUrl: itemUrl,\n          item: item,\n          state: store.getState()\n        });\n        return;\n      }\n\n      onInput(_objectSpread({\n        event: event,\n        nextState: {\n          isOpen: false\n        },\n        props: props,\n        query: itemInputValue,\n        refresh: refresh,\n        store: store\n      }, setters)).then(function () {\n        source.onSelect(_objectSpread({\n          event: event,\n          item: item,\n          itemInputValue: itemInputValue,\n          itemUrl: itemUrl,\n          refresh: refresh,\n          source: source,\n          state: store.getState()\n        }, setters));\n      });\n    }\n  }\n}","var _excluded = [\"props\", \"refresh\", \"store\"],\n    _excluded2 = [\"inputElement\", \"formElement\", \"panelElement\"],\n    _excluded3 = [\"inputElement\"],\n    _excluded4 = [\"inputElement\", \"maxLength\"],\n    _excluded5 = [\"sourceIndex\"],\n    _excluded6 = [\"sourceIndex\"],\n    _excluded7 = [\"item\", \"source\", \"sourceIndex\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { noop } from '@algolia/autocomplete-shared';\nimport { onInput } from './onInput';\nimport { onKeyDown as _onKeyDown } from './onKeyDown';\nimport { getActiveItem, isOrContainsNode, isSamsung } from './utils';\nexport function getPropGetters(_ref) {\n  var props = _ref.props,\n      refresh = _ref.refresh,\n      store = _ref.store,\n      setters = _objectWithoutProperties(_ref, _excluded);\n\n  var getEnvironmentProps = function getEnvironmentProps(providedProps) {\n    var inputElement = providedProps.inputElement,\n        formElement = providedProps.formElement,\n        panelElement = providedProps.panelElement,\n        rest = _objectWithoutProperties(providedProps, _excluded2);\n\n    function onMouseDownOrTouchStart(event) {\n      // The `onTouchStart`/`onMouseDown` events shouldn't trigger the `blur`\n      // handler when it's not an interaction with Autocomplete.\n      // We detect it with the following heuristics:\n      // - the panel is closed AND there are no pending requests\n      //   (no interaction with the autocomplete, no future state updates)\n      // - OR the touched target is the input element (should open the panel)\n      var isAutocompleteInteraction = store.getState().isOpen || !store.pendingRequests.isEmpty();\n\n      if (!isAutocompleteInteraction || event.target === inputElement) {\n        return;\n      } // @TODO: support cases where there are multiple Autocomplete instances.\n      // Right now, a second instance makes this computation return false.\n\n\n      var isTargetWithinAutocomplete = [formElement, panelElement].some(function (contextNode) {\n        return isOrContainsNode(contextNode, event.target);\n      });\n\n      if (isTargetWithinAutocomplete === false) {\n        store.dispatch('blur', null); // If requests are still pending when the user closes the panel, they\n        // could reopen the panel once they resolve.\n        // We want to prevent any subsequent query from reopening the panel\n        // because it would result in an unsolicited UI behavior.\n\n        if (!props.debug) {\n          store.pendingRequests.cancelAll();\n        }\n      }\n    }\n\n    return _objectSpread({\n      // We do not rely on the native `blur` event of the input to close the\n      // panel, but rather on a custom `touchstart`/`mousedown` event outside\n      // of the autocomplete elements.\n      // This ensures we don't mistakenly interpret interactions within the\n      // autocomplete (but outside of the input) as a signal to close the panel.\n      // For example, clicking reset button causes an input blur, but if\n      // `openOnFocus=true`, it shouldn't close the panel.\n      // On touch devices, scrolling results (`touchmove`) causes an input blur\n      // but shouldn't close the panel.\n      onTouchStart: onMouseDownOrTouchStart,\n      onMouseDown: onMouseDownOrTouchStart,\n      // When scrolling on touch devices (mobiles, tablets, etc.), we want to\n      // mimic the native platform behavior where the input is blurred to\n      // hide the virtual keyboard. This gives more vertical space to\n      // discover all the suggestions showing up in the panel.\n      onTouchMove: function onTouchMove(event) {\n        if (store.getState().isOpen === false || inputElement !== props.environment.document.activeElement || event.target === inputElement) {\n          return;\n        }\n\n        inputElement.blur();\n      }\n    }, rest);\n  };\n\n  var getRootProps = function getRootProps(rest) {\n    return _objectSpread({\n      role: 'combobox',\n      'aria-expanded': store.getState().isOpen,\n      'aria-haspopup': 'listbox',\n      'aria-owns': store.getState().isOpen ? \"\".concat(props.id, \"-list\") : undefined,\n      'aria-labelledby': \"\".concat(props.id, \"-label\")\n    }, rest);\n  };\n\n  var getFormProps = function getFormProps(providedProps) {\n    var inputElement = providedProps.inputElement,\n        rest = _objectWithoutProperties(providedProps, _excluded3);\n\n    return _objectSpread({\n      action: '',\n      noValidate: true,\n      role: 'search',\n      onSubmit: function onSubmit(event) {\n        var _providedProps$inputE;\n\n        event.preventDefault();\n        props.onSubmit(_objectSpread({\n          event: event,\n          refresh: refresh,\n          state: store.getState()\n        }, setters));\n        store.dispatch('submit', null);\n        (_providedProps$inputE = providedProps.inputElement) === null || _providedProps$inputE === void 0 ? void 0 : _providedProps$inputE.blur();\n      },\n      onReset: function onReset(event) {\n        var _providedProps$inputE2;\n\n        event.preventDefault();\n        props.onReset(_objectSpread({\n          event: event,\n          refresh: refresh,\n          state: store.getState()\n        }, setters));\n        store.dispatch('reset', null);\n        (_providedProps$inputE2 = providedProps.inputElement) === null || _providedProps$inputE2 === void 0 ? void 0 : _providedProps$inputE2.focus();\n      }\n    }, rest);\n  };\n\n  var getInputProps = function getInputProps(providedProps) {\n    var _props$environment$na;\n\n    function onFocus(event) {\n      // We want to trigger a query when `openOnFocus` is true\n      // because the panel should open with the current query.\n      if (props.openOnFocus || Boolean(store.getState().query)) {\n        onInput(_objectSpread({\n          event: event,\n          props: props,\n          query: store.getState().completion || store.getState().query,\n          refresh: refresh,\n          store: store\n        }, setters));\n      }\n\n      store.dispatch('focus', null);\n    }\n\n    var _ref2 = providedProps || {},\n        inputElement = _ref2.inputElement,\n        _ref2$maxLength = _ref2.maxLength,\n        maxLength = _ref2$maxLength === void 0 ? 512 : _ref2$maxLength,\n        rest = _objectWithoutProperties(_ref2, _excluded4);\n\n    var activeItem = getActiveItem(store.getState());\n    var userAgent = ((_props$environment$na = props.environment.navigator) === null || _props$environment$na === void 0 ? void 0 : _props$environment$na.userAgent) || '';\n    var shouldFallbackKeyHint = isSamsung(userAgent);\n    var enterKeyHint = activeItem !== null && activeItem !== void 0 && activeItem.itemUrl && !shouldFallbackKeyHint ? 'go' : 'search';\n    return _objectSpread({\n      'aria-autocomplete': 'both',\n      'aria-activedescendant': store.getState().isOpen && store.getState().activeItemId !== null ? \"\".concat(props.id, \"-item-\").concat(store.getState().activeItemId) : undefined,\n      'aria-controls': store.getState().isOpen ? \"\".concat(props.id, \"-list\") : undefined,\n      'aria-labelledby': \"\".concat(props.id, \"-label\"),\n      value: store.getState().completion || store.getState().query,\n      id: \"\".concat(props.id, \"-input\"),\n      autoComplete: 'off',\n      autoCorrect: 'off',\n      autoCapitalize: 'off',\n      enterKeyHint: enterKeyHint,\n      spellCheck: 'false',\n      autoFocus: props.autoFocus,\n      placeholder: props.placeholder,\n      maxLength: maxLength,\n      type: 'search',\n      onChange: function onChange(event) {\n        onInput(_objectSpread({\n          event: event,\n          props: props,\n          query: event.currentTarget.value.slice(0, maxLength),\n          refresh: refresh,\n          store: store\n        }, setters));\n      },\n      onKeyDown: function onKeyDown(event) {\n        _onKeyDown(_objectSpread({\n          event: event,\n          props: props,\n          refresh: refresh,\n          store: store\n        }, setters));\n      },\n      onFocus: onFocus,\n      // We don't rely on the `blur` event.\n      // See explanation in `onTouchStart`/`onMouseDown`.\n      // @MAJOR See if we need to keep this handler.\n      onBlur: noop,\n      onClick: function onClick(event) {\n        // When the panel is closed and you click on the input while\n        // the input is focused, the `onFocus` event is not triggered\n        // (default browser behavior).\n        // In an autocomplete context, it makes sense to open the panel in this\n        // case.\n        // We mimic this event by catching the `onClick` event which\n        // triggers the `onFocus` for the panel to open.\n        if (providedProps.inputElement === props.environment.document.activeElement && !store.getState().isOpen) {\n          onFocus(event);\n        }\n      }\n    }, rest);\n  };\n\n  var getAutocompleteId = function getAutocompleteId(instanceId, sourceId) {\n    return typeof sourceId !== 'undefined' ? \"\".concat(instanceId, \"-\").concat(sourceId) : instanceId;\n  };\n\n  var getLabelProps = function getLabelProps(providedProps) {\n    var _ref3 = providedProps || {},\n        sourceIndex = _ref3.sourceIndex,\n        rest = _objectWithoutProperties(_ref3, _excluded5);\n\n    return _objectSpread({\n      htmlFor: \"\".concat(getAutocompleteId(props.id, sourceIndex), \"-input\"),\n      id: \"\".concat(getAutocompleteId(props.id, sourceIndex), \"-label\")\n    }, rest);\n  };\n\n  var getListProps = function getListProps(providedProps) {\n    var _ref4 = providedProps || {},\n        sourceIndex = _ref4.sourceIndex,\n        rest = _objectWithoutProperties(_ref4, _excluded6);\n\n    return _objectSpread({\n      role: 'listbox',\n      'aria-labelledby': \"\".concat(getAutocompleteId(props.id, sourceIndex), \"-label\"),\n      id: \"\".concat(getAutocompleteId(props.id, sourceIndex), \"-list\")\n    }, rest);\n  };\n\n  var getPanelProps = function getPanelProps(rest) {\n    return _objectSpread({\n      onMouseDown: function onMouseDown(event) {\n        // Prevents the `activeElement` from being changed to the panel so\n        // that the blur event is not triggered, otherwise it closes the\n        // panel.\n        event.preventDefault();\n      },\n      onMouseLeave: function onMouseLeave() {\n        store.dispatch('mouseleave', null);\n      }\n    }, rest);\n  };\n\n  var getItemProps = function getItemProps(providedProps) {\n    var item = providedProps.item,\n        source = providedProps.source,\n        sourceIndex = providedProps.sourceIndex,\n        rest = _objectWithoutProperties(providedProps, _excluded7);\n\n    return _objectSpread({\n      id: \"\".concat(getAutocompleteId(props.id, sourceIndex), \"-item-\").concat(item.__autocomplete_id),\n      role: 'option',\n      'aria-selected': store.getState().activeItemId === item.__autocomplete_id,\n      onMouseMove: function onMouseMove(event) {\n        if (item.__autocomplete_id === store.getState().activeItemId) {\n          return;\n        }\n\n        store.dispatch('mousemove', item.__autocomplete_id);\n        var activeItem = getActiveItem(store.getState());\n\n        if (store.getState().activeItemId !== null && activeItem) {\n          var _item = activeItem.item,\n              itemInputValue = activeItem.itemInputValue,\n              itemUrl = activeItem.itemUrl,\n              _source = activeItem.source;\n\n          _source.onActive(_objectSpread({\n            event: event,\n            item: _item,\n            itemInputValue: itemInputValue,\n            itemUrl: itemUrl,\n            refresh: refresh,\n            source: _source,\n            state: store.getState()\n          }, setters));\n        }\n      },\n      onMouseDown: function onMouseDown(event) {\n        // Prevents the `activeElement` from being changed to the item so it\n        // can remain with the current `activeElement`.\n        event.preventDefault();\n      },\n      onClick: function onClick(event) {\n        var itemInputValue = source.getItemInputValue({\n          item: item,\n          state: store.getState()\n        });\n        var itemUrl = source.getItemUrl({\n          item: item,\n          state: store.getState()\n        }); // If `getItemUrl` is provided, it means that the suggestion\n        // is a link, not plain text that aims at updating the query.\n        // We can therefore skip the state change because it will update\n        // the `activeItemId`, resulting in a UI flash, especially\n        // noticeable on mobile.\n\n        var runPreCommand = itemUrl ? Promise.resolve() : onInput(_objectSpread({\n          event: event,\n          nextState: {\n            isOpen: false\n          },\n          props: props,\n          query: itemInputValue,\n          refresh: refresh,\n          store: store\n        }, setters));\n        runPreCommand.then(function () {\n          source.onSelect(_objectSpread({\n            event: event,\n            item: item,\n            itemInputValue: itemInputValue,\n            itemUrl: itemUrl,\n            refresh: refresh,\n            source: source,\n            state: store.getState()\n          }, setters));\n        });\n      }\n    }, rest);\n  };\n\n  return {\n    getEnvironmentProps: getEnvironmentProps,\n    getRootProps: getRootProps,\n    getFormProps: getFormProps,\n    getLabelProps: getLabelProps,\n    getInputProps: getInputProps,\n    getPanelProps: getPanelProps,\n    getListProps: getListProps,\n    getItemProps: getItemProps\n  };\n}","export function isOrContainsNode(parent, child) {\n  return parent === child || parent.contains(child);\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { userAgents } from '@algolia/autocomplete-shared';\nexport function getMetadata(_ref) {\n  var _, _options$__autocomple, _options$__autocomple2, _options$__autocomple3;\n\n  var plugins = _ref.plugins,\n      options = _ref.options;\n  var optionsKey = (_ = (((_options$__autocomple = options.__autocomplete_metadata) === null || _options$__autocomple === void 0 ? void 0 : _options$__autocomple.userAgents) || [])[0]) === null || _ === void 0 ? void 0 : _.segment;\n  var extraOptions = optionsKey ? _defineProperty({}, optionsKey, Object.keys(((_options$__autocomple2 = options.__autocomplete_metadata) === null || _options$__autocomple2 === void 0 ? void 0 : _options$__autocomple2.options) || {})) : {};\n  return {\n    plugins: plugins.map(function (plugin) {\n      return {\n        name: plugin.name,\n        options: Object.keys(plugin.__autocomplete_pluginOptions || [])\n      };\n    }),\n    options: _objectSpread({\n      'autocomplete-core': Object.keys(options)\n    }, extraOptions),\n    ua: userAgents.concat(((_options$__autocomple3 = options.__autocomplete_metadata) === null || _options$__autocomple3 === void 0 ? void 0 : _options$__autocomple3.userAgents) || [])\n  };\n}\nexport function injectMetadata(_ref3) {\n  var _environment$navigato, _environment$navigato2;\n\n  var metadata = _ref3.metadata,\n      environment = _ref3.environment;\n  var isMetadataEnabled = (_environment$navigato = environment.navigator) === null || _environment$navigato === void 0 ? void 0 : (_environment$navigato2 = _environment$navigato.userAgent) === null || _environment$navigato2 === void 0 ? void 0 : _environment$navigato2.includes('Algolia Crawler');\n\n  if (isMetadataEnabled) {\n    var metadataContainer = environment.document.createElement('meta');\n    var headRef = environment.document.querySelector('head');\n    metadataContainer.name = 'algolia:metadata';\n    setTimeout(function () {\n      metadataContainer.content = JSON.stringify(metadata);\n      headRef.appendChild(metadataContainer);\n    }, 0);\n  }\n}","import { getActiveItem } from './utils';\nexport function getCompletion(_ref) {\n  var _getActiveItem;\n\n  var state = _ref.state;\n\n  if (state.isOpen === false || state.activeItemId === null) {\n    return null;\n  }\n\n  return ((_getActiveItem = getActiveItem(state)) === null || _getActiveItem === void 0 ? void 0 : _getActiveItem.itemInputValue) || null;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { getItemsCount, invariant } from '@algolia/autocomplete-shared';\nimport { getCompletion } from './getCompletion';\nimport { getNextActiveItemId } from './utils';\nexport var stateReducer = function stateReducer(state, action) {\n  switch (action.type) {\n    case 'setActiveItemId':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: action.payload\n        });\n      }\n\n    case 'setQuery':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          query: action.payload,\n          completion: null\n        });\n      }\n\n    case 'setCollections':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          collections: action.payload\n        });\n      }\n\n    case 'setIsOpen':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          isOpen: action.payload\n        });\n      }\n\n    case 'setStatus':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          status: action.payload\n        });\n      }\n\n    case 'setContext':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          context: _objectSpread(_objectSpread({}, state.context), action.payload)\n        });\n      }\n\n    case 'ArrowDown':\n      {\n        var nextState = _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: action.payload.hasOwnProperty('nextActiveItemId') ? action.payload.nextActiveItemId : getNextActiveItemId(1, state.activeItemId, getItemsCount(state), action.props.defaultActiveItemId)\n        });\n\n        return _objectSpread(_objectSpread({}, nextState), {}, {\n          completion: getCompletion({\n            state: nextState\n          })\n        });\n      }\n\n    case 'ArrowUp':\n      {\n        var _nextState = _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: getNextActiveItemId(-1, state.activeItemId, getItemsCount(state), action.props.defaultActiveItemId)\n        });\n\n        return _objectSpread(_objectSpread({}, _nextState), {}, {\n          completion: getCompletion({\n            state: _nextState\n          })\n        });\n      }\n\n    case 'Escape':\n      {\n        if (state.isOpen) {\n          return _objectSpread(_objectSpread({}, state), {}, {\n            activeItemId: null,\n            isOpen: false,\n            completion: null\n          });\n        }\n\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: null,\n          query: '',\n          status: 'idle',\n          collections: []\n        });\n      }\n\n    case 'submit':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: null,\n          isOpen: false,\n          status: 'idle'\n        });\n      }\n\n    case 'reset':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: // Since we open the panel on reset when openOnFocus=true\n          // we need to restore the highlighted index to the defaultActiveItemId. (DocSearch use-case)\n          // Since we close the panel when openOnFocus=false\n          // we lose track of the highlighted index. (Query-suggestions use-case)\n          action.props.openOnFocus === true ? action.props.defaultActiveItemId : null,\n          status: 'idle',\n          query: ''\n        });\n      }\n\n    case 'focus':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: action.props.defaultActiveItemId,\n          isOpen: (action.props.openOnFocus || Boolean(state.query)) && action.props.shouldPanelOpen({\n            state: state\n          })\n        });\n      }\n\n    case 'blur':\n      {\n        if (action.props.debug) {\n          return state;\n        }\n\n        return _objectSpread(_objectSpread({}, state), {}, {\n          isOpen: false,\n          activeItemId: null\n        });\n      }\n\n    case 'mousemove':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: action.payload\n        });\n      }\n\n    case 'mouseleave':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: action.props.defaultActiveItemId\n        });\n      }\n\n    default:\n      invariant(false, \"The reducer action \".concat(JSON.stringify(action.type), \" is not supported.\"));\n      return state;\n  }\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkOptions } from './checkOptions';\nimport { createStore } from './createStore';\nimport { getAutocompleteSetters } from './getAutocompleteSetters';\nimport { getDefaultProps } from './getDefaultProps';\nimport { getPropGetters } from './getPropGetters';\nimport { getMetadata, injectMetadata } from './metadata';\nimport { onInput } from './onInput';\nimport { stateReducer } from './stateReducer';\nexport function createAutocomplete(options) {\n  checkOptions(options);\n  var subscribers = [];\n  var props = getDefaultProps(options, subscribers);\n  var store = createStore(stateReducer, props, onStoreStateChange);\n  var setters = getAutocompleteSetters({\n    store: store\n  });\n  var propGetters = getPropGetters(_objectSpread({\n    props: props,\n    refresh: refresh,\n    store: store,\n    navigator: props.navigator\n  }, setters));\n\n  function onStoreStateChange(_ref) {\n    var prevState = _ref.prevState,\n        state = _ref.state;\n    props.onStateChange(_objectSpread({\n      prevState: prevState,\n      state: state,\n      refresh: refresh,\n      navigator: props.navigator\n    }, setters));\n  }\n\n  function refresh() {\n    return onInput(_objectSpread({\n      event: new Event('input'),\n      nextState: {\n        isOpen: store.getState().isOpen\n      },\n      props: props,\n      navigator: props.navigator,\n      query: store.getState().query,\n      refresh: refresh,\n      store: store\n    }, setters));\n  }\n\n  props.plugins.forEach(function (plugin) {\n    var _plugin$subscribe;\n\n    return (_plugin$subscribe = plugin.subscribe) === null || _plugin$subscribe === void 0 ? void 0 : _plugin$subscribe.call(plugin, _objectSpread(_objectSpread({}, setters), {}, {\n      navigator: props.navigator,\n      refresh: refresh,\n      onSelect: function onSelect(fn) {\n        subscribers.push({\n          onSelect: fn\n        });\n      },\n      onActive: function onActive(fn) {\n        subscribers.push({\n          onActive: fn\n        });\n      },\n      onResolve: function onResolve(fn) {\n        subscribers.push({\n          onResolve: fn\n        });\n      }\n    }));\n  });\n  injectMetadata({\n    metadata: getMetadata({\n      plugins: props.plugins,\n      options: options\n    }),\n    environment: props.environment\n  });\n  return _objectSpread(_objectSpread({\n    refresh: refresh,\n    navigator: props.navigator\n  }, propGetters), setters);\n}","import React from 'react';\n\ntype TypesenseLogoTranslations = Partial<{\n  searchByText: string;\n}>;\n\ntype TypesenseLogoProps = {\n  translations?: TypesenseLogoTranslations;\n};\n\nexport function TypesenseLogo({ translations = {} }: TypesenseLogoProps) {\n  const { searchByText = 'Search by' } = translations;\n\n  return (\n    <a\n      href={`https://typesense.org/?utm_source=${window.location.hostname}&utm_medium=referral&utm_content=powered_by&utm_campaign=docsearch`}\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      <span className=\"DocSearch-Label\">{searchByText}</span>\n      <svg\n        fill=\"none\"\n        height=\"18\"\n        viewBox=\"0 0 80 18\"\n        width=\"80\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <g fill=\"currentColor\">\n          <path d=\"m4.82356 5.166c.03534.18.053.354.053.522 0 .156-.01766.324-.053.504l-2.24393-.018v6.048c0 .504.2297.756.68908.756h1.34282c.08246.204.12368.408.12368.612s-.01177.33-.03533.378c-.54184.072-1.10135.108-1.67853.108-1.14258 0-1.71387-.498-1.71387-1.494v-6.408l-1.2544739.018c-.0353374-.18-.0530061-.348-.0530061-.504 0-.168.0176687-.342.0530061-.522l1.2544739.018v-1.89c0-.324.04712-.552.14135-.684.09424-.144.27681-.216.54773-.216h.47706l.10601.108v2.7z\" />\n          <path d=\"m13.3733 5.256-2.4206 8.442c-.4476 1.548-.9247 2.64-1.4312 3.276s-1.26625.954-2.27926.954c-.51828 0-.99534-.078-1.43117-.234-.03533-.336.0589-.66.2827-.972.36516.132.75387.198 1.16614.198.62429 0 1.10135-.216 1.43116-.648.32982-.432.63019-1.104.90111-2.016l.053-.18c-.30625-.024-.54184-.096-.70674-.216-.15313-.12-.2827-.342-.38872-.666l-2.47362-7.92c.36516-.156.6243-.234.77743-.234.34159 0 .57129.21.68908.63l1.39583 4.518c.04711.144.31803 1.08.81276 2.808.02356.084.08245.126.17668.126l2.15562-7.956c.1531-.048.3533-.072.6007-.072.2591 0 .4771.036.6537.108z\" />\n          <path d=\"m16.7683 13.41v3.564c0 .324-.0471.552-.1414.684-.0942.144-.2827.216-.5653.216h-.4771l-.106-.108v-12.546l.106-.108h.4594c.2827 0 .4711.078.5654.234.106.144.159.384.159.72v.09c.7067-.804 1.549-1.206 2.5266-1.206 1.0013 0 1.7551.414 2.2616 1.242.5065.816.7598 1.95.7598 3.402 0 .708-.0943 1.344-.2827 1.908-.1767.564-.4182 1.044-.7244 1.44-.2945.384-.6361.684-1.0248.9-.3887.204-.7892.306-1.2015.306-.8128 0-1.5843-.246-2.3146-.738zm0-5.85v4.626c.7185.54 1.3958.81 2.0319.81s1.1602-.288 1.5725-.864.6184-1.446.6184-2.61c0-.576-.053-1.074-.159-1.494-.0942-.432-.2238-.786-.3887-1.062-.1649-.288-.3593-.498-.5831-.63-.212-.144-.4417-.216-.6891-.216-.4711 0-.9187.126-1.3428.378-.424.252-.7774.606-1.0601 1.062z\" />\n          <path d=\"m31.2631 9.99h-5.4773c.0589 2.04.8187 3.06 2.2793 3.06.801 0 1.655-.252 2.562-.756.2591.24.4181.546.477.918-.9659.672-2.0496 1.008-3.251 1.008-.6125 0-1.1367-.114-1.5725-.342-.4359-.24-.7951-.564-1.0778-.972-.271-.42-.4712-.912-.6008-1.476-.1295-.564-.1943-1.182-.1943-1.854 0-.684.0765-1.308.2297-1.872.1649-.564.4005-1.05.7067-1.458.3063-.408.6714-.726 1.0955-.954.4358-.228.9305-.342 1.4841-.342.5419 0 1.0248.102 1.4489.306.4358.192.7951.462 1.0778.81.2944.336.5183.744.6714 1.224.1531.468.2297.972.2297 1.512 0 .216-.0118.426-.0354.63-.0117.192-.0294.378-.053.558zm-5.4773-1.026h4.2405v-.234c0-.828-.1708-1.494-.5124-1.998s-.854-.756-1.5372-.756c-.6714 0-1.1955.27-1.5725.81-.3651.54-.5713 1.266-.6184 2.178z\" />\n          <path d=\"m33.0818 13.374c.0117-.264.0824-.552.212-.864.1413-.324.3004-.576.477-.756.9306.516 1.7492.774 2.456.774.3887 0 .7009-.078.9364-.234.2474-.156.3711-.366.3711-.63 0-.42-.3181-.756-.9541-1.008l-.9895-.378c-1.4841-.552-2.2262-1.434-2.2262-2.646 0-.432.0765-.816.2297-1.152.1649-.348.3887-.642.6714-.882.2945-.252.6419-.444 1.0424-.576s.8481-.198 1.3428-.198c.2238 0 .4712.018.7421.054.2827.036.5654.09.8481.162.2827.06.5537.132.8128.216s.4829.174.6714.27c0 .3-.0589.612-.1767.936s-.2768.564-.477.72c-.9306-.42-1.7375-.63-2.4207-.63-.3062 0-.5477.078-.7244.234-.1767.144-.265.336-.265.576 0 .372.2945.666.8834.882l1.0778.396c.7775.276 1.3546.654 1.7316 1.134.3769.48.5654 1.038.5654 1.674 0 .852-.3122 1.536-.9365 2.052-.6243.504-1.5195.756-2.6856.756-1.1426 0-2.2145-.294-3.2157-.882z\" />\n          <path d=\"m48.5671 10.296h-4.8765c.0353.66.1826 1.182.4417 1.566.2709.372.7362.558 1.3958.558.6832 0 1.4665-.204 2.35-.612.3416.36.5595.834.6537 1.422-.9423.684-2.0731 1.026-3.3924 1.026-1.2486 0-2.1968-.39-2.8446-1.17-.6361-.792-.9542-1.962-.9542-3.51 0-.72.0825-1.368.2474-1.944.1649-.588.4064-1.086.7244-1.494.3181-.42.7068-.744 1.1662-.972.4593-.228.9835-.342 1.5725-.342.6007 0 1.1308.096 1.5902.288.4593.18.8481.444 1.1661.792.318.336.5536.738.7067 1.206.1649.468.2474.978.2474 1.53 0 .3-.0177.588-.053.864-.0353.264-.0825.528-.1414.792zm-3.41-3.78c-.9188 0-1.4135.708-1.4842 2.124h2.933v-.216c0-.576-.1178-1.038-.3534-1.386-.2355-.348-.6007-.522-1.0954-.522z\" />\n          <path d=\"m58.2504 7.992v3.924c0 .768.1237 1.338.3711 1.71-.377.336-.8305.504-1.3605.504-.5065 0-.854-.114-1.0425-.342-.1884-.24-.2827-.612-.2827-1.116v-4.194c0-.54-.0648-.918-.1943-1.134-.1296-.216-.3711-.324-.7244-.324-.6243 0-1.2074.288-1.7492.864v6.12c-.1767.036-.3652.06-.5654.072-.1885.012-.3829.018-.5831.018-.2003 0-.4005-.006-.6007-.018-.1885-.012-.3711-.036-.5478-.072v-8.91l.106-.126h.8835c.6596 0 1.0719.36 1.2368 1.08.8599-.756 1.7138-1.134 2.5619-1.134s1.4724.282 1.8729.846c.4123.552.6184 1.296.6184 2.232z\" />\n          <path d=\"m60.1039 13.374c.0117-.264.0824-.552.212-.864.1413-.324.3003-.576.477-.756.9306.516 1.7492.774 2.456.774.3887 0 .7008-.078.9364-.234.2474-.156.3711-.366.3711-.63 0-.42-.3181-.756-.9541-1.008l-.9895-.378c-1.4842-.552-2.2262-1.434-2.2262-2.646 0-.432.0765-.816.2296-1.152.165-.348.3888-.642.6715-.882.2944-.252.6419-.444 1.0424-.576s.8481-.198 1.3428-.198c.2238 0 .4712.018.7421.054.2827.036.5654.09.8481.162.2827.06.5536.132.8128.216.2591.084.4829.174.6714.27 0 .3-.0589.612-.1767.936s-.2768.564-.4771.72c-.9305-.42-1.7374-.63-2.4206-.63-.3062 0-.5477.078-.7244.234-.1767.144-.265.336-.265.576 0 .372.2945.666.8834.882l1.0778.396c.7774.276 1.3546.654 1.7315 1.134.377.48.5655 1.038.5655 1.674 0 .852-.3122 1.536-.9365 2.052-.6243.504-1.5195.756-2.6856.756-1.1426 0-2.2145-.294-3.2157-.882z\" />\n          <path d=\"m75.5892 10.296h-4.8765c.0353.66.1826 1.182.4417 1.566.2709.372.7362.558 1.3958.558.6832 0 1.4665-.204 2.35-.612.3416.36.5595.834.6537 1.422-.9423.684-2.0731 1.026-3.3924 1.026-1.2486 0-2.1968-.39-2.8447-1.17-.636-.792-.9541-1.962-.9541-3.51 0-.72.0825-1.368.2474-1.944.1649-.588.4064-1.086.7244-1.494.318-.42.7068-.744 1.1662-.972.4593-.228.9835-.342 1.5725-.342.6007 0 1.1308.096 1.5902.288.4593.18.8481.444 1.1661.792.318.336.5536.738.7067 1.206.1649.468.2474.978.2474 1.53 0 .3-.0177.588-.053.864-.0353.264-.0825.528-.1414.792zm-3.41-3.78c-.9188 0-1.4135.708-1.4842 2.124h2.933v-.216c0-.576-.1178-1.038-.3534-1.386-.2355-.348-.6007-.522-1.0954-.522z\" />\n          <path d=\"m78.3287 16.524v-16.4699996c.1767-.0360003.3769-.0540004.6007-.0540004.2356 0 .4535.0180001.6538.0540004v16.4699996c-.2003.036-.4182.054-.6538.054-.2238 0-.424-.018-.6007-.054z\" />\n        </g>\n      </svg>\n    </a>\n  );\n}\n","import React from 'react';\n\nimport { TypesenseLogo } from './TypesenseLogo';\n\nexport type FooterTranslations = Partial<{\n  selectText: string;\n  selectKeyAriaLabel: string;\n  navigateText: string;\n  navigateUpKeyAriaLabel: string;\n  navigateDownKeyAriaLabel: string;\n  closeText: string;\n  closeKeyAriaLabel: string;\n  searchByText: string;\n}>;\n\ntype FooterProps = Partial<{\n  translations: FooterTranslations;\n}>;\n\ninterface CommandIconProps {\n  children: React.ReactNode;\n  ariaLabel: string;\n}\n\nfunction CommandIcon(props: CommandIconProps) {\n  return (\n    <svg width=\"15\" height=\"15\" aria-label={props.ariaLabel} role=\"img\">\n      <g\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        strokeWidth=\"1.2\"\n      >\n        {props.children}\n      </g>\n    </svg>\n  );\n}\n\nexport function Footer({ translations = {} }: FooterProps) {\n  const {\n    selectText = 'to select',\n    selectKeyAriaLabel = 'Enter key',\n    navigateText = 'to navigate',\n    navigateUpKeyAriaLabel = 'Arrow up',\n    navigateDownKeyAriaLabel = 'Arrow down',\n    closeText = 'to close',\n    closeKeyAriaLabel = 'Escape key',\n    searchByText = 'Search by',\n  } = translations;\n\n  return (\n    <>\n      <div className=\"DocSearch-Logo\">\n        <TypesenseLogo translations={{ searchByText }} />\n      </div>\n      <ul className=\"DocSearch-Commands\">\n        <li>\n          <kbd className=\"DocSearch-Commands-Key\">\n            <CommandIcon ariaLabel={selectKeyAriaLabel}>\n              <path d=\"M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3\" />\n            </CommandIcon>\n          </kbd>\n          <span className=\"DocSearch-Label\">{selectText}</span>\n        </li>\n        <li>\n          <kbd className=\"DocSearch-Commands-Key\">\n            <CommandIcon ariaLabel={navigateDownKeyAriaLabel}>\n              <path d=\"M7.5 3.5v8M10.5 8.5l-3 3-3-3\" />\n            </CommandIcon>\n          </kbd>\n          <kbd className=\"DocSearch-Commands-Key\">\n            <CommandIcon ariaLabel={navigateUpKeyAriaLabel}>\n              <path d=\"M7.5 11.5v-8M10.5 6.5l-3-3-3 3\" />\n            </CommandIcon>\n          </kbd>\n          <span className=\"DocSearch-Label\">{navigateText}</span>\n        </li>\n        <li>\n          <kbd className=\"DocSearch-Commands-Key\">\n            <CommandIcon ariaLabel={closeKeyAriaLabel}>\n              <path d=\"M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956\" />\n            </CommandIcon>\n          </kbd>\n          <span className=\"DocSearch-Label\">{closeText}</span>\n        </li>\n      </ul>\n    </>\n  );\n}\n","import React from 'react';\n\nimport type { InternalDocSearchHit, StoredDocSearchHit } from './types';\n\ninterface HitProps {\n  hit: InternalDocSearchHit | StoredDocSearchHit;\n  children: React.ReactNode;\n}\n\nexport function Hit({ hit, children }: HitProps) {\n  return <a href={hit.url}>{children}</a>;\n}\n","import React from 'react';\n\nexport function LoadingIcon() {\n  return (\n    <svg viewBox=\"0 0 38 38\" stroke=\"currentColor\" strokeOpacity=\".5\">\n      <g fill=\"none\" fillRule=\"evenodd\">\n        <g transform=\"translate(1 1)\" strokeWidth=\"2\">\n          <circle strokeOpacity=\".3\" cx=\"18\" cy=\"18\" r=\"18\" />\n          <path d=\"M36 18c0-9.94-8.06-18-18-18\">\n            <animateTransform\n              attributeName=\"transform\"\n              type=\"rotate\"\n              from=\"0 18 18\"\n              to=\"360 18 18\"\n              dur=\"1s\"\n              repeatCount=\"indefinite\"\n            />\n          </path>\n        </g>\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function RecentIcon() {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n      <g\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      >\n        <path d=\"M3.18 6.6a8.23 8.23 0 1112.93 9.94h0a8.23 8.23 0 01-11.63 0\" />\n        <path d=\"M6.44 7.25H2.55V3.36M10.45 6v5.6M10.45 11.6L13 13\" />\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function ResetIcon() {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n      <path\n        d=\"M10 10l5.09-5.09L10 10l5.09 5.09L10 10zm0 0L4.91 4.91 10 10l-5.09 5.09L10 10z\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function SelectIcon() {\n  return (\n    <svg\n      className=\"DocSearch-Hit-Select-Icon\"\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 20 20\"\n    >\n      <g\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      >\n        <path d=\"M18 3v4c0 2-2 4-4 4H2\" />\n        <path d=\"M8 17l-6-6 6-6\" />\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\nconst LvlIcon: React.FC = () => {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n      <path\n        d=\"M17 6v12c0 .52-.2 1-1 1H4c-.7 0-1-.33-1-1V2c0-.55.42-1 1-1h8l5 5zM14 8h-3.13c-.51 0-.87-.34-.87-.87V4\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n};\n\nexport function SourceIcon(props: { type: string }) {\n  switch (props.type) {\n    case 'lvl1':\n      return <LvlIcon />;\n    case 'content':\n      return <ContentIcon />;\n    default:\n      return <AnchorIcon />;\n  }\n}\n\nfunction AnchorIcon() {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n      <path\n        d=\"M13 13h4-4V8H7v5h6v4-4H7V8H3h4V3v5h6V3v5h4-4v5zm-6 0v4-4H3h4z\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n\nfunction ContentIcon() {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n      <path\n        d=\"M17 5H3h14zm0 5H3h14zm0 5H3h14z\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function StarIcon() {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n      <path\n        d=\"M10 14.2L5 17l1-5.6-4-4 5.5-.7 2.5-5 2.5 5 5.6.8-4 4 .9 5.5z\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function ErrorIcon() {\n  return (\n    <svg\n      width=\"40\"\n      height=\"40\"\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      fillRule=\"evenodd\"\n      stroke=\"currentColor\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path d=\"M19 4.8a16 16 0 00-2-1.2m-3.3-1.2A16 16 0 001.1 4.7M16.7 8a12 12 0 00-2.8-1.4M10 6a12 12 0 00-6.7 2M12.3 14.7a4 4 0 00-4.5 0M14.5 11.4A8 8 0 0010 10M3 16L18 2M10 18h0\"></path>\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function NoResultsIcon() {\n  return (\n    <svg\n      width=\"40\"\n      height=\"40\"\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      fillRule=\"evenodd\"\n      stroke=\"currentColor\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path d=\"M15.5 4.8c2 3 1.7 7-1 9.7h0l4.3 4.3-4.3-4.3a7.8 7.8 0 01-9.8 1m-2.2-2.2A7.8 7.8 0 0113.2 2.4M2 18L18 2\"></path>\n    </svg>\n  );\n}\n","import React from 'react';\n\nimport { ErrorIcon } from './icons';\n\nexport type ErrorScreenTranslations = Partial<{\n  titleText: string;\n  helpText: string;\n}>;\n\ntype ErrorScreenProps = {\n  translations?: ErrorScreenTranslations;\n};\n\nexport function ErrorScreen({ translations = {} }: ErrorScreenProps) {\n  const {\n    titleText = 'Unable to fetch results',\n    helpText = 'You might want to check your network connection.',\n  } = translations;\n  return (\n    <div className=\"DocSearch-ErrorScreen\">\n      <div className=\"DocSearch-Screen-Icon\">\n        <ErrorIcon />\n      </div>\n      <p className=\"DocSearch-Title\">{titleText}</p>\n      <p className=\"DocSearch-Help\">{helpText}</p>\n    </div>\n  );\n}\n","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\nvar iterableToArray = require(\"./iterableToArray.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import React from 'react';\n\nimport { NoResultsIcon } from './icons';\nimport type { ScreenStateProps } from './ScreenState';\nimport type { InternalDocSearchHit } from './types';\n\nexport type NoResultsScreenTranslations = Partial<{\n  noResultsText: string;\n  suggestedQueryText: string;\n  reportMissingResultsText: string;\n  reportMissingResultsLinkText: string;\n}>;\n\ntype NoResultsScreenProps = Omit<\n  ScreenStateProps<InternalDocSearchHit>,\n  'translations'\n> & {\n  translations?: NoResultsScreenTranslations;\n};\n\nexport function NoResultsScreen({\n  translations = {},\n  ...props\n}: NoResultsScreenProps) {\n  const {\n    noResultsText = 'No results for',\n    suggestedQueryText = 'Try searching for',\n    reportMissingResultsText = 'Believe this query should return results?',\n    reportMissingResultsLinkText = 'Let us know.',\n  } = translations;\n  const searchSuggestions: string[] | undefined = props.state.context\n    .searchSuggestions as string[];\n\n  return (\n    <div className=\"DocSearch-NoResults\">\n      <div className=\"DocSearch-Screen-Icon\">\n        <NoResultsIcon />\n      </div>\n      <p className=\"DocSearch-Title\">\n        {noResultsText} \"<strong>{props.state.query}</strong>\"\n      </p>\n\n      {searchSuggestions && searchSuggestions.length > 0 && (\n        <div className=\"DocSearch-NoResults-Prefill-List\">\n          <p className=\"DocSearch-Help\">{suggestedQueryText}:</p>\n          <ul>\n            {searchSuggestions.slice(0, 3).reduce<React.ReactNode[]>(\n              (acc, search) => [\n                ...acc,\n                <li key={search}>\n                  <button\n                    className=\"DocSearch-Prefill\"\n                    key={search}\n                    type=\"button\"\n                    onClick={() => {\n                      props.setQuery(search.toLowerCase() + ' ');\n                      props.refresh();\n                      props.inputRef.current!.focus();\n                    }}\n                  >\n                    {search}\n                  </button>\n                </li>,\n              ],\n              []\n            )}\n          </ul>\n        </div>\n      )}\n\n      {props.getMissingResultsUrl && (\n        <p className=\"DocSearch-Help\">\n          {`${reportMissingResultsText} `}\n          <a\n            href={props.getMissingResultsUrl({ query: props.state.query })}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {reportMissingResultsLinkText}\n          </a>\n        </p>\n      )}\n    </div>\n  );\n}\n","import { createElement } from 'react';\n\nimport type { StoredDocSearchHit } from './types';\n\ninterface SnippetProps<TItem> {\n  hit: TItem;\n  attribute: string;\n  tagName?: string;\n  [prop: string]: unknown;\n}\n\nexport function Snippet<TItem extends StoredDocSearchHit>({\n  hit,\n  attribute,\n  tagName = 'span',\n  ...rest\n}: SnippetProps<TItem>) {\n  let displayValue =\n    hit?._highlightResult?.[attribute]?.value || hit?.[attribute];\n\n  if (hit?._snippetResult?.[attribute]?.value) {\n    let snippetValue = hit?._snippetResult?.[attribute]?.value;\n    if (displayValue.substring(0, 20) !== snippetValue.substring(0, 20)) {\n      snippetValue = `… ${snippetValue}`;\n    }\n    if (\n      displayValue.substring(displayValue.length - 20, displayValue.length) !==\n      snippetValue.substring(snippetValue.length - 20, snippetValue.length)\n    ) {\n      snippetValue = `${snippetValue} …`;\n    }\n\n    displayValue = snippetValue;\n  }\n\n  return createElement(tagName, {\n    ...rest,\n    dangerouslySetInnerHTML: {\n      __html: displayValue,\n    },\n  });\n}\n","import type {\n  AutocompleteApi,\n  AutocompleteState,\n  BaseItem,\n} from '@algolia/autocomplete-core';\nimport React from 'react';\n\nimport type { DocSearchProps } from './DocSearch';\nimport { Snippet } from './Snippet';\nimport type { InternalDocSearchHit, StoredDocSearchHit } from './types';\n\ninterface ResultsProps<TItem extends BaseItem>\n  extends AutocompleteApi<\n    TItem,\n    React.FormEvent,\n    React.MouseEvent,\n    React.KeyboardEvent\n  > {\n  title: string;\n  collection: AutocompleteState<TItem>['collections'][0];\n  renderIcon: (props: { item: TItem; index: number }) => React.ReactNode;\n  renderAction: (props: {\n    item: TItem;\n    runDeleteTransition: (cb: () => void) => void;\n    runFavoriteTransition: (cb: () => void) => void;\n  }) => React.ReactNode;\n  onItemClick: (item: TItem) => void;\n  hitComponent: DocSearchProps['hitComponent'];\n}\n\nexport function Results<TItem extends StoredDocSearchHit>(\n  props: ResultsProps<TItem>\n) {\n  if (!props.collection || props.collection.items.length === 0) {\n    return null;\n  }\n\n  return (\n    <section className=\"DocSearch-Hits\">\n      <div className=\"DocSearch-Hit-source\">{props.title}</div>\n\n      <ul {...props.getListProps()}>\n        {props.collection.items.map((item, index) => {\n          return (\n            <Result\n              key={[props.title, item.objectID].join(':')}\n              item={item}\n              index={index}\n              {...props}\n            />\n          );\n        })}\n      </ul>\n    </section>\n  );\n}\n\ninterface ResultProps<TItem extends BaseItem> extends ResultsProps<TItem> {\n  item: TItem;\n  index: number;\n}\n\nfunction Result<TItem extends StoredDocSearchHit>({\n  item,\n  index,\n  renderIcon,\n  renderAction,\n  getItemProps,\n  onItemClick,\n  collection,\n  hitComponent,\n}: ResultProps<TItem>) {\n  const [isDeleting, setIsDeleting] = React.useState(false);\n  const [isFavoriting, setIsFavoriting] = React.useState(false);\n  const action = React.useRef<(() => void) | null>(null);\n  const Hit = hitComponent!;\n\n  function runDeleteTransition(cb: () => void) {\n    setIsDeleting(true);\n    action.current = cb;\n  }\n\n  function runFavoriteTransition(cb: () => void) {\n    setIsFavoriting(true);\n    action.current = cb;\n  }\n\n  return (\n    <li\n      className={[\n        'DocSearch-Hit',\n        (item as unknown as InternalDocSearchHit).__docsearch_parent &&\n          'DocSearch-Hit--Child',\n        isDeleting && 'DocSearch-Hit--deleting',\n        isFavoriting && 'DocSearch-Hit--favoriting',\n      ]\n        .filter(Boolean)\n        .join(' ')}\n      onTransitionEnd={() => {\n        if (action.current) {\n          action.current();\n        }\n      }}\n      {...getItemProps({\n        item,\n        source: collection.source,\n        onClick() {\n          onItemClick(item);\n        },\n      })}\n    >\n      <Hit hit={item}>\n        <div className=\"DocSearch-Hit-Container\">\n          {renderIcon({ item, index })}\n\n          {item[`hierarchy.${item.type}`] && item.type === 'lvl0' && (\n            <div className=\"DocSearch-Hit-content-wrapper\">\n              <Snippet\n                className=\"DocSearch-Hit-title\"\n                hit={item}\n                attribute=\"hierarchy.lvl0\"\n              />\n            </div>\n          )}\n\n          {item[`hierarchy.${item.type}`] && item.type === 'lvl1' && (\n            <div className=\"DocSearch-Hit-content-wrapper\">\n              <Snippet\n                className=\"DocSearch-Hit-title\"\n                hit={item}\n                attribute=\"hierarchy.lvl1\"\n              />\n              {item.content && (\n                <Snippet\n                  className=\"DocSearch-Hit-path\"\n                  hit={item}\n                  attribute=\"content\"\n                />\n              )}\n            </div>\n          )}\n\n          {item[`hierarchy.${item.type}`] &&\n            (item.type === 'lvl2' ||\n              item.type === 'lvl3' ||\n              item.type === 'lvl4' ||\n              item.type === 'lvl5' ||\n              item.type === 'lvl6') && (\n              <div className=\"DocSearch-Hit-content-wrapper\">\n                <Snippet\n                  className=\"DocSearch-Hit-title\"\n                  hit={item}\n                  attribute={`hierarchy.${item.type}`}\n                />\n                <Snippet\n                  className=\"DocSearch-Hit-path\"\n                  hit={item}\n                  attribute=\"hierarchy.lvl1\"\n                />\n              </div>\n            )}\n\n          {item.type === 'content' && (\n            <div className=\"DocSearch-Hit-content-wrapper\">\n              <Snippet\n                className=\"DocSearch-Hit-title\"\n                hit={item}\n                attribute=\"content\"\n              />\n              <Snippet\n                className=\"DocSearch-Hit-path\"\n                hit={item}\n                attribute=\"hierarchy.lvl1\"\n              />\n            </div>\n          )}\n\n          {renderAction({ item, runDeleteTransition, runFavoriteTransition })}\n        </div>\n      </Hit>\n    </li>\n  );\n}\n","export function groupBy<TValue extends Record<string, unknown>>(\n  values: TValue[],\n  predicate: (value: TValue) => string\n): Record<string, TValue[]> {\n  return values.reduce<Record<string, TValue[]>>((acc, item) => {\n    const key = predicate(item);\n\n    if (!acc.hasOwnProperty(key)) {\n      acc[key] = [];\n    }\n\n    // We limit each section to show 5 hits maximum.\n    // This acts as a frontend alternative to `distinct`.\n    if (acc[key].length < 5) {\n      acc[key].push(item);\n    }\n\n    return acc;\n  }, {});\n}\n","export function identity<TParam>(x: TParam): TParam {\n  return x;\n}\n","export function noop(..._args: any[]): void {}\n","import type { DocSearchHit, InternalDocSearchHit } from '../types';\n\nconst regexHighlightTags = /(<mark>|<\\/mark>)/g;\nconst regexHasHighlightTags = RegExp(regexHighlightTags.source);\n\nexport function removeHighlightTags(\n  hit: DocSearchHit | InternalDocSearchHit\n): string {\n  const internalDocSearchHit = hit as InternalDocSearchHit;\n\n  if (!internalDocSearchHit.__docsearch_parent && !hit._highlightResult) {\n    return hit['hierarchy.lvl0'];\n  }\n\n  const { value } =\n    (internalDocSearchHit.__docsearch_parent\n      ? internalDocSearchHit.__docsearch_parent?._highlightResult?.[\n          'hierarchy.lvl0'\n        ]\n      : hit._highlightResult?.['hierarchy.lvl0']) || {};\n\n  return value && regexHasHighlightTags.test(value)\n    ? value.replace(regexHighlightTags, '')\n    : value;\n}\n","import React from 'react';\n\nimport { SelectIcon, SourceIcon } from './icons';\nimport { Results } from './Results';\nimport type { ScreenStateProps } from './ScreenState';\nimport type { InternalDocSearchHit } from './types';\nimport { removeHighlightTags } from './utils';\n\ntype ResultsScreenProps = Omit<\n  ScreenStateProps<InternalDocSearchHit>,\n  'translations'\n>;\n\nexport function ResultsScreen(props: ResultsScreenProps) {\n  return (\n    <div className=\"DocSearch-Dropdown-Container\">\n      {props.state.collections.map((collection) => {\n        if (collection.items.length === 0) {\n          return null;\n        }\n\n        const title = removeHighlightTags(collection.items[0]);\n\n        return (\n          <Results\n            {...props}\n            key={collection.source.sourceId}\n            title={title}\n            collection={collection}\n            renderIcon={({ item, index }) => (\n              <>\n                {item.__docsearch_parent && (\n                  <svg className=\"DocSearch-Hit-Tree\" viewBox=\"0 0 24 54\">\n                    <g\n                      stroke=\"currentColor\"\n                      fill=\"none\"\n                      fillRule=\"evenodd\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                    >\n                      {item.__docsearch_parent !==\n                      collection.items[index + 1]?.__docsearch_parent ? (\n                        <path d=\"M8 6v21M20 27H8.3\" />\n                      ) : (\n                        <path d=\"M8 6v42M20 27H8.3\" />\n                      )}\n                    </g>\n                  </svg>\n                )}\n\n                <div className=\"DocSearch-Hit-icon\">\n                  <SourceIcon type={item.type} />\n                </div>\n              </>\n            )}\n            renderAction={() => (\n              <div className=\"DocSearch-Hit-action\">\n                <SelectIcon />\n              </div>\n            )}\n          />\n        );\n      })}\n\n      {props.resultsFooterComponent && (\n        <section className=\"DocSearch-HitsFooter\">\n          <props.resultsFooterComponent state={props.state} />\n        </section>\n      )}\n    </div>\n  );\n}\n","import React from 'react';\n\nimport { RecentIcon, ResetIcon, StarIcon } from './icons';\nimport { Results } from './Results';\nimport type { ScreenStateProps } from './ScreenState';\nimport type { InternalDocSearchHit } from './types';\n\nexport type StartScreenTranslations = Partial<{\n  recentSearchesTitle: string;\n  noRecentSearchesText: string;\n  saveRecentSearchButtonTitle: string;\n  removeRecentSearchButtonTitle: string;\n  favoriteSearchesTitle: string;\n  removeFavoriteSearchButtonTitle: string;\n}>;\n\ntype StartScreenProps = Omit<\n  ScreenStateProps<InternalDocSearchHit>,\n  'translations'\n> & {\n  hasCollections: boolean;\n  translations?: StartScreenTranslations;\n};\n\nexport function StartScreen({ translations = {}, ...props }: StartScreenProps) {\n  const {\n    recentSearchesTitle = 'Recent',\n    noRecentSearchesText = 'No recent searches',\n    saveRecentSearchButtonTitle = 'Save this search',\n    removeRecentSearchButtonTitle = 'Remove this search from history',\n    favoriteSearchesTitle = 'Favorite',\n    removeFavoriteSearchButtonTitle = 'Remove this search from favorites',\n  } = translations;\n  if (props.state.status === 'idle' && props.hasCollections === false) {\n    if (props.disableUserPersonalization) {\n      return null;\n    }\n\n    return (\n      <div className=\"DocSearch-StartScreen\">\n        <p className=\"DocSearch-Help\">{noRecentSearchesText}</p>\n      </div>\n    );\n  }\n\n  if (props.hasCollections === false) {\n    return null;\n  }\n\n  return (\n    <div className=\"DocSearch-Dropdown-Container\">\n      <Results\n        {...props}\n        title={recentSearchesTitle}\n        collection={props.state.collections[0]}\n        renderIcon={() => (\n          <div className=\"DocSearch-Hit-icon\">\n            <RecentIcon />\n          </div>\n        )}\n        renderAction={({\n          item,\n          runFavoriteTransition,\n          runDeleteTransition,\n        }) => (\n          <>\n            <div className=\"DocSearch-Hit-action\">\n              <button\n                className=\"DocSearch-Hit-action-button\"\n                title={saveRecentSearchButtonTitle}\n                type=\"submit\"\n                onClick={(event) => {\n                  event.preventDefault();\n                  event.stopPropagation();\n                  runFavoriteTransition(() => {\n                    props.favoriteSearches.add(item);\n                    props.recentSearches.remove(item);\n                    props.refresh();\n                  });\n                }}\n              >\n                <StarIcon />\n              </button>\n            </div>\n            <div className=\"DocSearch-Hit-action\">\n              <button\n                className=\"DocSearch-Hit-action-button\"\n                title={removeRecentSearchButtonTitle}\n                type=\"submit\"\n                onClick={(event) => {\n                  event.preventDefault();\n                  event.stopPropagation();\n                  runDeleteTransition(() => {\n                    props.recentSearches.remove(item);\n                    props.refresh();\n                  });\n                }}\n              >\n                <ResetIcon />\n              </button>\n            </div>\n          </>\n        )}\n      />\n\n      <Results\n        {...props}\n        title={favoriteSearchesTitle}\n        collection={props.state.collections[1]}\n        renderIcon={() => (\n          <div className=\"DocSearch-Hit-icon\">\n            <StarIcon />\n          </div>\n        )}\n        renderAction={({ item, runDeleteTransition }) => (\n          <div className=\"DocSearch-Hit-action\">\n            <button\n              className=\"DocSearch-Hit-action-button\"\n              title={removeFavoriteSearchButtonTitle}\n              type=\"submit\"\n              onClick={(event) => {\n                event.preventDefault();\n                event.stopPropagation();\n                runDeleteTransition(() => {\n                  props.favoriteSearches.remove(item);\n                  props.refresh();\n                });\n              }}\n            >\n              <ResetIcon />\n            </button>\n          </div>\n        )}\n      />\n    </div>\n  );\n}\n","import type {\n  AutocompleteApi,\n  AutocompleteState,\n  BaseItem,\n} from '@algolia/autocomplete-core';\nimport React from 'react';\n\nimport type { DocSearchProps } from './DocSearch';\nimport type { ErrorScreenTranslations } from './ErrorScreen';\nimport { ErrorScreen } from './ErrorScreen';\nimport type { NoResultsScreenTranslations } from './NoResultsScreen';\nimport { NoResultsScreen } from './NoResultsScreen';\nimport { ResultsScreen } from './ResultsScreen';\nimport type { StartScreenTranslations } from './StartScreen';\nimport { StartScreen } from './StartScreen';\nimport type { StoredSearchPlugin } from './stored-searches';\nimport type { InternalDocSearchHit, StoredDocSearchHit } from './types';\n\nexport type ScreenStateTranslations = Partial<{\n  errorScreen: ErrorScreenTranslations;\n  startScreen: StartScreenTranslations;\n  noResultsScreen: NoResultsScreenTranslations;\n}>;\n\nexport interface ScreenStateProps<TItem extends BaseItem>\n  extends AutocompleteApi<\n    TItem,\n    React.FormEvent,\n    React.MouseEvent,\n    React.KeyboardEvent\n  > {\n  state: AutocompleteState<TItem>;\n  recentSearches: StoredSearchPlugin<StoredDocSearchHit>;\n  favoriteSearches: StoredSearchPlugin<StoredDocSearchHit>;\n  onItemClick: (item: InternalDocSearchHit) => void;\n  inputRef: React.MutableRefObject<HTMLInputElement | null>;\n  hitComponent: DocSearchProps['hitComponent'];\n  indexName: DocSearchProps['typesenseCollectionName'];\n  disableUserPersonalization: boolean;\n  resultsFooterComponent: DocSearchProps['resultsFooterComponent'];\n  translations: ScreenStateTranslations;\n  getMissingResultsUrl?: DocSearchProps['getMissingResultsUrl'];\n}\n\nexport const ScreenState = React.memo(\n  ({ translations = {}, ...props }: ScreenStateProps<InternalDocSearchHit>) => {\n    if (props.state.status === 'error') {\n      return <ErrorScreen translations={translations?.errorScreen} />;\n    }\n\n    const hasCollections = props.state.collections.some(\n      (collection) => collection.items.length > 0\n    );\n\n    if (!props.state.query) {\n      return (\n        <StartScreen\n          {...props}\n          hasCollections={hasCollections}\n          translations={translations?.startScreen}\n        />\n      );\n    }\n\n    if (hasCollections === false) {\n      return (\n        <NoResultsScreen\n          {...props}\n          translations={translations?.noResultsScreen}\n        />\n      );\n    }\n\n    return <ResultsScreen {...props} />;\n  },\n  function areEqual(_prevProps, nextProps) {\n    // We don't update the screen when Autocomplete is loading or stalled to\n    // avoid UI flashes:\n    //  - Empty screen → Results screen\n    //  - NoResults screen → NoResults screen with another query\n    return (\n      nextProps.state.status === 'loading' ||\n      nextProps.state.status === 'stalled'\n    );\n  }\n);\n","import type {\n  AutocompleteApi,\n  AutocompleteState,\n} from '@algolia/autocomplete-core';\nimport type { MutableRefObject } from 'react';\nimport React from 'react';\n\nimport { MAX_QUERY_SIZE } from './constants';\nimport { LoadingIcon } from './icons/LoadingIcon';\nimport { ResetIcon } from './icons/ResetIcon';\nimport { SearchIcon } from './icons/SearchIcon';\nimport type { InternalDocSearchHit } from './types';\n\nexport type SearchBoxTranslations = Partial<{\n  resetButtonTitle: string;\n  resetButtonAriaLabel: string;\n  cancelButtonText: string;\n  cancelButtonAriaLabel: string;\n}>;\n\ninterface SearchBoxProps\n  extends AutocompleteApi<\n    InternalDocSearchHit,\n    React.FormEvent,\n    React.MouseEvent,\n    React.KeyboardEvent\n  > {\n  state: AutocompleteState<InternalDocSearchHit>;\n  autoFocus: boolean;\n  inputRef: MutableRefObject<HTMLInputElement | null>;\n  onClose: () => void;\n  isFromSelection: boolean;\n  translations?: SearchBoxTranslations;\n}\n\nexport function SearchBox({ translations = {}, ...props }: SearchBoxProps) {\n  const {\n    resetButtonTitle = 'Clear the query',\n    resetButtonAriaLabel = 'Clear the query',\n    cancelButtonText = 'Cancel',\n    cancelButtonAriaLabel = 'Cancel',\n  } = translations;\n  const { onReset } = props.getFormProps({\n    inputElement: props.inputRef.current,\n  });\n\n  React.useEffect(() => {\n    if (props.autoFocus && props.inputRef.current) {\n      props.inputRef.current.focus();\n    }\n  }, [props.autoFocus, props.inputRef]);\n\n  React.useEffect(() => {\n    if (props.isFromSelection && props.inputRef.current) {\n      props.inputRef.current.select();\n    }\n  }, [props.isFromSelection, props.inputRef]);\n\n  return (\n    <>\n      <form\n        className=\"DocSearch-Form\"\n        onSubmit={(event) => {\n          event.preventDefault();\n        }}\n        onReset={onReset}\n      >\n        <label className=\"DocSearch-MagnifierLabel\" {...props.getLabelProps()}>\n          <SearchIcon />\n        </label>\n\n        <div className=\"DocSearch-LoadingIndicator\">\n          <LoadingIcon />\n        </div>\n\n        <input\n          className=\"DocSearch-Input\"\n          ref={props.inputRef}\n          {...props.getInputProps({\n            inputElement: props.inputRef.current!,\n            autoFocus: props.autoFocus,\n            maxLength: MAX_QUERY_SIZE,\n          })}\n        />\n\n        <button\n          type=\"reset\"\n          title={resetButtonTitle}\n          className=\"DocSearch-Reset\"\n          aria-label={resetButtonAriaLabel}\n          hidden={!props.state.query}\n        >\n          <ResetIcon />\n        </button>\n      </form>\n\n      <button\n        className=\"DocSearch-Cancel\"\n        type=\"reset\"\n        aria-label={cancelButtonAriaLabel}\n        onClick={props.onClose}\n      >\n        {cancelButtonText}\n      </button>\n    </>\n  );\n}\n","export const MAX_QUERY_SIZE = 64;\n","import type { DocSearchHit, StoredDocSearchHit } from './types';\n\nfunction isLocalStorageSupported() {\n  const key = '__TEST_KEY__';\n\n  try {\n    localStorage.setItem(key, '');\n    localStorage.removeItem(key);\n\n    return true;\n  } catch (error) {\n    return false;\n  }\n}\n\nfunction createStorage<TItem>(key: string) {\n  if (isLocalStorageSupported() === false) {\n    return {\n      setItem() {},\n      getItem() {\n        return [];\n      },\n    };\n  }\n\n  return {\n    setItem(item: TItem[]) {\n      return window.localStorage.setItem(key, JSON.stringify(item));\n    },\n    getItem(): TItem[] {\n      const item = window.localStorage.getItem(key);\n\n      return item ? JSON.parse(item) : [];\n    },\n  };\n}\n\ntype CreateStoredSearchesOptions = {\n  key: string;\n  limit?: number;\n};\n\nexport type StoredSearchPlugin<TItem> = {\n  add: (item: TItem) => void;\n  remove: (item: TItem) => void;\n  getAll: () => TItem[];\n};\n\nexport function createStoredSearches<TItem extends StoredDocSearchHit>({\n  key,\n  limit = 5,\n}: CreateStoredSearchesOptions): StoredSearchPlugin<TItem> {\n  const storage = createStorage<TItem>(key);\n  let items = storage.getItem().slice(0, limit);\n\n  return {\n    add(item: TItem) {\n      const { _highlightResult, _snippetResult, ...hit } =\n        item as unknown as DocSearchHit;\n\n      const isQueryAlreadySaved = items.findIndex(\n        (x) => x.objectID === hit.objectID\n      );\n\n      if (isQueryAlreadySaved > -1) {\n        items.splice(isQueryAlreadySaved, 1);\n      }\n\n      items.unshift(hit as TItem);\n      items = items.slice(0, limit);\n\n      storage.setItem(items);\n    },\n    remove(item: TItem) {\n      items = items.filter((x) => x.objectID !== item.objectID);\n\n      storage.setItem(items);\n    },\n    getAll() {\n      return items;\n    },\n  };\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function value(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","import type { AutocompleteState } from '@algolia/autocomplete-core';\nimport { createAutocomplete } from '@algolia/autocomplete-core';\nimport React from 'react';\n\nimport { MAX_QUERY_SIZE } from './constants';\nimport type { DocSearchProps } from './DocSearch';\nimport type { FooterTranslations } from './Footer';\nimport { Footer } from './Footer';\nimport { Hit } from './Hit';\nimport type { ScreenStateTranslations } from './ScreenState';\nimport { ScreenState } from './ScreenState';\nimport type { SearchBoxTranslations } from './SearchBox';\nimport { SearchBox } from './SearchBox';\nimport { createStoredSearches } from './stored-searches';\nimport type {\n  DocSearchHit,\n  InternalDocSearchHit,\n  StoredDocSearchHit,\n} from './types';\nimport { useSearchClient } from './useSearchClient';\nimport { useTouchEvents } from './useTouchEvents';\nimport { useTrapFocus } from './useTrapFocus';\nimport { groupBy, identity, noop, removeHighlightTags } from './utils';\n\nexport type ModalTranslations = Partial<{\n  searchBox: SearchBoxTranslations;\n  footer: FooterTranslations;\n}> &\n  ScreenStateTranslations;\n\nexport type DocSearchModalProps = DocSearchProps & {\n  initialScrollY: number;\n  onClose?: () => void;\n  translations?: ModalTranslations;\n};\n\nexport function DocSearchModal({\n  typesenseCollectionName,\n  typesenseServerConfig,\n  typesenseSearchParameters,\n  placeholder = 'Search docs',\n  onClose = noop,\n  transformItems = identity,\n  hitComponent = Hit,\n  resultsFooterComponent = () => null,\n  navigator,\n  initialScrollY = 0,\n  transformSearchClient = identity,\n  disableUserPersonalization = false,\n  initialQuery: initialQueryFromProp = '',\n  translations = {},\n  getMissingResultsUrl,\n}: DocSearchModalProps) {\n  const {\n    footer: footerTranslations,\n    searchBox: searchBoxTranslations,\n    ...screenStateTranslations\n  } = translations;\n  const [state, setState] = React.useState<\n    AutocompleteState<InternalDocSearchHit>\n  >({\n    query: '',\n    collections: [],\n    completion: null,\n    context: {},\n    isOpen: false,\n    activeItemId: null,\n    status: 'idle',\n  });\n\n  const indexName = typesenseCollectionName;\n  const containerRef = React.useRef<HTMLDivElement | null>(null);\n  const modalRef = React.useRef<HTMLDivElement | null>(null);\n  const formElementRef = React.useRef<HTMLDivElement | null>(null);\n  const dropdownRef = React.useRef<HTMLDivElement | null>(null);\n  const inputRef = React.useRef<HTMLInputElement | null>(null);\n  const snippetLength = React.useRef<number>(10);\n  const initialQueryFromSelection = React.useRef(\n    typeof window !== 'undefined'\n      ? window.getSelection()!.toString().slice(0, MAX_QUERY_SIZE)\n      : ''\n  ).current;\n  const initialQuery = React.useRef(\n    initialQueryFromProp || initialQueryFromSelection\n  ).current;\n\n  const searchClient = useSearchClient(\n    typesenseServerConfig,\n    transformSearchClient\n  );\n  const favoriteSearches = React.useRef(\n    createStoredSearches<StoredDocSearchHit>({\n      key: `__DOCSEARCH_FAVORITE_SEARCHES__${indexName}`,\n      limit: 10,\n    })\n  ).current;\n  const recentSearches = React.useRef(\n    createStoredSearches<StoredDocSearchHit>({\n      key: `__DOCSEARCH_RECENT_SEARCHES__${indexName}`,\n      // We display 7 recent searches and there's no favorites, but only\n      // 4 when there are favorites.\n      limit: favoriteSearches.getAll().length === 0 ? 7 : 4,\n    })\n  ).current;\n\n  const saveRecentSearch = React.useCallback(\n    function saveRecentSearch(item: InternalDocSearchHit) {\n      if (disableUserPersonalization) {\n        return;\n      }\n\n      // We don't store `content` record, but their parent if available.\n      const search = item.type === 'content' ? item.__docsearch_parent : item;\n\n      // We save the recent search only if it's not favorited.\n      if (\n        search &&\n        favoriteSearches\n          .getAll()\n          .findIndex((x) => x.objectID === search.objectID) === -1\n      ) {\n        recentSearches.add(search);\n      }\n    },\n    [favoriteSearches, recentSearches, disableUserPersonalization]\n  );\n\n  const autocomplete = React.useMemo(\n    () =>\n      createAutocomplete<\n        InternalDocSearchHit,\n        React.FormEvent<HTMLFormElement>,\n        React.MouseEvent,\n        React.KeyboardEvent\n      >({\n        id: 'docsearch',\n        defaultActiveItemId: 0,\n        placeholder,\n        openOnFocus: true,\n        initialState: {\n          query: initialQuery,\n          context: {\n            searchSuggestions: [],\n          },\n        },\n        navigator,\n        onStateChange(props) {\n          setState(props.state);\n        },\n        getSources({ query, state: sourcesState, setContext, setStatus }) {\n          if (!query) {\n            if (disableUserPersonalization) {\n              return [];\n            }\n\n            return [\n              {\n                sourceId: 'recentSearches',\n                onSelect({ item, event }) {\n                  saveRecentSearch(item);\n\n                  if (!event.shiftKey && !event.ctrlKey && !event.metaKey) {\n                    onClose();\n                  }\n                },\n                getItemUrl({ item }) {\n                  return item.url;\n                },\n                getItems() {\n                  return recentSearches.getAll();\n                },\n              },\n              {\n                sourceId: 'favoriteSearches',\n                onSelect({ item, event }) {\n                  saveRecentSearch(item);\n\n                  if (!event.shiftKey && !event.ctrlKey && !event.metaKey) {\n                    onClose();\n                  }\n                },\n                getItemUrl({ item }) {\n                  return item.url;\n                },\n                getItems() {\n                  return favoriteSearches.getAll();\n                },\n              },\n            ];\n          }\n\n          // @ts-expect-error\n          return searchClient\n            .search<DocSearchHit>([\n              {\n                collection: typesenseCollectionName,\n                // @ts-expect-error\n                q: query,\n                // @ts-expect-error\n                query_by:\n                  'hierarchy.lvl0,hierarchy.lvl1,hierarchy.lvl2,hierarchy.lvl3,hierarchy.lvl4,hierarchy.lvl5,hierarchy.lvl6,content',\n                include_fields:\n                  'hierarchy.lvl0,hierarchy.lvl1,hierarchy.lvl2,hierarchy.lvl3,hierarchy.lvl4,hierarchy.lvl5,hierarchy.lvl6,content,anchor,url,type,id',\n                highlight_full_fields:\n                  'hierarchy.lvl0,hierarchy.lvl1,hierarchy.lvl2,hierarchy.lvl3,hierarchy.lvl4,hierarchy.lvl5,hierarchy.lvl6,content',\n                group_by: 'url',\n                group_limit: 3,\n                sort_by: 'item_priority:desc',\n                snippet_threshold: 8,\n                highlight_affix_num_tokens: 4,\n                ...typesenseSearchParameters,\n              },\n            ])\n            .catch((error) => {\n              // The Algolia `RetryError` happens when all the servers have\n              // failed, meaning that there's no chance the response comes\n              // back. This is the right time to display an error.\n              // See https://github.com/algolia/algoliasearch-client-javascript/blob/2ffddf59bc765cd1b664ee0346b28f00229d6e12/packages/transporter/src/errors/createRetryError.ts#L5\n              if (error.name === 'RetryError') {\n                setStatus('error');\n              }\n\n              throw error;\n            })\n            .then(({ results }) => {\n              const { hits, nbHits } = results[0];\n              const sources = groupBy(hits, (hit) =>\n                removeHighlightTags(hit as DocSearchHit)\n              ) as Record<string, DocSearchHit[]>;\n\n              // We store the `lvl0`s to display them as search suggestions\n              // in the \"no results\" screen.\n              if (\n                (sourcesState.context.searchSuggestions as any[]).length <\n                Object.keys(sources).length\n              ) {\n                setContext({\n                  searchSuggestions: Object.keys(sources),\n                });\n              }\n\n              setContext({ nbHits });\n\n              return Object.values<DocSearchHit[]>(sources).map(\n                (items, index) => {\n                  return {\n                    sourceId: `hits${index}`,\n                    onSelect({ item, event }) {\n                      saveRecentSearch(item);\n\n                      if (!event.shiftKey && !event.ctrlKey && !event.metaKey) {\n                        onClose();\n                      }\n                    },\n                    getItemUrl({ item }) {\n                      return item.url;\n                    },\n                    getItems() {\n                      return Object.values(\n                        groupBy(items, (item) => item['hierarchy.lvl1'])\n                      )\n                        .map(transformItems)\n                        .map((groupedHits) =>\n                          groupedHits.map((item) => {\n                            return {\n                              ...item,\n                              __docsearch_parent:\n                                item.type !== 'lvl1' &&\n                                groupedHits.find(\n                                  (siblingItem) =>\n                                    siblingItem.type === 'lvl1' &&\n                                    siblingItem['hierarchy.lvl1'] ===\n                                      item['hierarchy.lvl1']\n                                ),\n                            };\n                          })\n                        )\n                        .flat();\n                    },\n                  };\n                }\n              );\n            });\n        },\n      }),\n    [\n      typesenseCollectionName,\n      typesenseSearchParameters,\n      searchClient,\n      onClose,\n      recentSearches,\n      favoriteSearches,\n      saveRecentSearch,\n      initialQuery,\n      placeholder,\n      navigator,\n      transformItems,\n      disableUserPersonalization,\n    ]\n  );\n\n  const { getEnvironmentProps, getRootProps, refresh } = autocomplete;\n\n  useTouchEvents({\n    getEnvironmentProps,\n    panelElement: dropdownRef.current,\n    formElement: formElementRef.current,\n    inputElement: inputRef.current,\n  });\n  useTrapFocus({ container: containerRef.current });\n\n  React.useEffect(() => {\n    document.body.classList.add('DocSearch--active');\n\n    return () => {\n      document.body.classList.remove('DocSearch--active');\n\n      // IE11 doesn't support `scrollTo` so we check that the method exists\n      // first.\n      window.scrollTo?.(0, initialScrollY);\n    };\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  React.useEffect(() => {\n    const isMobileMediaQuery = window.matchMedia('(max-width: 768px)');\n\n    if (isMobileMediaQuery.matches) {\n      snippetLength.current = 5;\n    }\n  }, []);\n\n  React.useEffect(() => {\n    if (dropdownRef.current) {\n      dropdownRef.current.scrollTop = 0;\n    }\n  }, [state.query]);\n\n  // We don't focus the input when there's an initial query (i.e. Selection\n  // Search) because users rather want to see the results directly, without the\n  // keyboard appearing.\n  // We therefore need to refresh the autocomplete instance to load all the\n  // results, which is usually triggered on focus.\n  React.useEffect(() => {\n    if (initialQuery.length > 0) {\n      refresh();\n\n      if (inputRef.current) {\n        inputRef.current.focus();\n      }\n    }\n  }, [initialQuery, refresh]);\n\n  // We rely on a CSS property to set the modal height to the full viewport height\n  // because all mobile browsers don't compute their height the same way.\n  // See https://css-tricks.com/the-trick-to-viewport-units-on-mobile/\n  React.useEffect(() => {\n    function setFullViewportHeight() {\n      if (modalRef.current) {\n        const vh = window.innerHeight * 0.01;\n        modalRef.current.style.setProperty('--docsearch-vh', `${vh}px`);\n      }\n    }\n\n    setFullViewportHeight();\n\n    window.addEventListener('resize', setFullViewportHeight);\n\n    return () => {\n      window.removeEventListener('resize', setFullViewportHeight);\n    };\n  }, []);\n\n  return (\n    <div\n      ref={containerRef}\n      {...getRootProps({\n        'aria-expanded': true,\n      })}\n      className={[\n        'DocSearch',\n        'DocSearch-Container',\n        state.status === 'stalled' && 'DocSearch-Container--Stalled',\n        state.status === 'error' && 'DocSearch-Container--Errored',\n      ]\n        .filter(Boolean)\n        .join(' ')}\n      role=\"button\"\n      tabIndex={0}\n      onMouseDown={(event) => {\n        if (event.target === event.currentTarget) {\n          onClose();\n        }\n      }}\n    >\n      <div className=\"DocSearch-Modal\" ref={modalRef}>\n        <header className=\"DocSearch-SearchBar\" ref={formElementRef}>\n          <SearchBox\n            {...autocomplete}\n            state={state}\n            autoFocus={initialQuery.length === 0}\n            inputRef={inputRef}\n            isFromSelection={\n              Boolean(initialQuery) &&\n              initialQuery === initialQueryFromSelection\n            }\n            translations={searchBoxTranslations}\n            onClose={onClose}\n          />\n        </header>\n\n        <div className=\"DocSearch-Dropdown\" ref={dropdownRef}>\n          <ScreenState\n            {...autocomplete}\n            indexName={indexName}\n            state={state}\n            hitComponent={hitComponent}\n            resultsFooterComponent={resultsFooterComponent}\n            disableUserPersonalization={disableUserPersonalization}\n            recentSearches={recentSearches}\n            favoriteSearches={favoriteSearches}\n            inputRef={inputRef}\n            translations={screenStateTranslations}\n            getMissingResultsUrl={getMissingResultsUrl}\n            onItemClick={(item) => {\n              saveRecentSearch(item);\n              onClose();\n            }}\n          />\n        </div>\n\n        <footer className=\"DocSearch-Footer\">\n          <Footer translations={footerTranslations} />\n        </footer>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { SearchClient as TypesenseSearchClient } from 'typesense';\nimport type { SearchClient } from 'typesense-instantsearch-adapter';\nimport { SearchResponseAdapter as TypesenseSearchResponseAdapter } from 'typesense-instantsearch-adapter/lib/SearchResponseAdapter';\nimport type { ConfigurationOptions as TypesenseConfigurationOptions } from 'typesense/lib/Typesense/Configuration';\n\nexport function useSearchClient(\n  typesenseServerConfig: TypesenseConfigurationOptions,\n  transformSearchClient: (searchClient: SearchClient) => SearchClient\n): SearchClient {\n  return React.useMemo(() => {\n    const typesense = new TypesenseSearchClient(typesenseServerConfig);\n\n    const client = {\n      search: async ([request]) => {\n        const response = await typesense.multiSearch.perform({\n          searches: [request],\n        });\n        const typesenseSearchResponseAdapter =\n          new TypesenseSearchResponseAdapter(\n            response.results[0],\n            {\n              params: {\n                ...request.params,\n                highlightPreTag: '<mark>',\n                highlightPostTag: '</mark>',\n              },\n            },\n            {\n              geoLocationField: '',\n            }\n          );\n        return {\n          results: [typesenseSearchResponseAdapter.adapt()],\n        };\n      },\n    };\n\n    return transformSearchClient(client);\n  }, [transformSearchClient, typesenseServerConfig]);\n}\n","import type { AutocompleteApi } from '@algolia/autocomplete-core';\nimport React from 'react';\n\ninterface UseTouchEventsProps {\n  getEnvironmentProps: AutocompleteApi<any>['getEnvironmentProps'];\n  panelElement: HTMLDivElement | null;\n  formElement: HTMLDivElement | null;\n  inputElement: HTMLInputElement | null;\n}\n\nexport function useTouchEvents({\n  getEnvironmentProps,\n  panelElement,\n  formElement,\n  inputElement,\n}: UseTouchEventsProps) {\n  React.useEffect(() => {\n    if (!(panelElement && formElement && inputElement)) {\n      return undefined;\n    }\n\n    const { onTouchStart, onTouchMove } = getEnvironmentProps({\n      panelElement,\n      formElement,\n      inputElement,\n    });\n\n    window.addEventListener('touchstart', onTouchStart);\n    window.addEventListener('touchmove', onTouchMove);\n\n    return () => {\n      window.removeEventListener('touchstart', onTouchStart);\n      window.removeEventListener('touchmove', onTouchMove);\n    };\n  }, [getEnvironmentProps, panelElement, formElement, inputElement]);\n}\n","import React from 'react';\n\ninterface UseTrapFocusProps {\n  container: HTMLElement | null;\n}\n\nexport function useTrapFocus({ container }: UseTrapFocusProps) {\n  React.useEffect(() => {\n    if (!container) {\n      return undefined;\n    }\n\n    const focusableElements = container.querySelectorAll<HTMLElement>(\n      'a[href]:not([disabled]), button:not([disabled]), input:not([disabled])'\n    );\n    const firstElement = focusableElements[0];\n    const lastElement = focusableElements[focusableElements.length - 1];\n\n    function trapFocus(event: KeyboardEvent) {\n      if (event.key !== 'Tab') {\n        return;\n      }\n\n      if (event.shiftKey) {\n        if (document.activeElement === firstElement) {\n          event.preventDefault();\n          lastElement.focus();\n        }\n      } else if (document.activeElement === lastElement) {\n        event.preventDefault();\n        firstElement.focus();\n      }\n    }\n\n    container.addEventListener('keydown', trapFocus);\n\n    return () => {\n      container.removeEventListener('keydown', trapFocus);\n    };\n  }, [container]);\n}\n","import React from 'react';\n\nexport interface UseDocSearchKeyboardEventsProps {\n  isOpen: boolean;\n  onOpen: () => void;\n  onClose: () => void;\n  onInput?: (event: KeyboardEvent) => void;\n  searchButtonRef?: React.RefObject<HTMLButtonElement>;\n}\n\nfunction isEditingContent(event: KeyboardEvent): boolean {\n  const element = event.target as HTMLElement;\n  const tagName = element.tagName;\n\n  return (\n    element.isContentEditable ||\n    tagName === 'INPUT' ||\n    tagName === 'SELECT' ||\n    tagName === 'TEXTAREA'\n  );\n}\n\nexport function useDocSearchKeyboardEvents({\n  isOpen,\n  onOpen,\n  onClose,\n  onInput,\n  searchButtonRef,\n}: UseDocSearchKeyboardEventsProps) {\n  React.useEffect(() => {\n    function onKeyDown(event: KeyboardEvent) {\n      function open() {\n        // We check that no other DocSearch modal is showing before opening\n        // another one.\n        if (!document.body.classList.contains('DocSearch--active')) {\n          onOpen();\n        }\n      }\n      if (\n        (event.keyCode === 27 && isOpen) ||\n        // The `Cmd+K` shortcut both opens and closes the modal.\n        (event.key.toLowerCase() === 'k' && (event.metaKey || event.ctrlKey)) ||\n        // The `/` shortcut opens but doesn't close the modal because it's\n        // a character.\n        (!isEditingContent(event) && event.key === '/' && !isOpen)\n      ) {\n        event.preventDefault();\n\n        if (isOpen) {\n          onClose();\n        } else if (!document.body.classList.contains('DocSearch--active')) {\n          open();\n        }\n      }\n\n      if (\n        searchButtonRef &&\n        searchButtonRef.current === document.activeElement &&\n        onInput\n      ) {\n        if (/[a-zA-Z0-9]/.test(String.fromCharCode(event.keyCode))) {\n          onInput(event);\n        }\n      }\n    }\n\n    window.addEventListener('keydown', onKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', onKeyDown);\n    };\n  }, [isOpen, onOpen, onClose, onInput, searchButtonRef]);\n}\n","import type {\n  AutocompleteState,\n  AutocompleteOptions,\n} from '@algolia/autocomplete-core';\nimport React from 'react';\nimport { createPortal } from 'react-dom';\nimport type { SearchClient } from 'typesense';\nimport type { ConfigurationOptions as TypesenseConfigurationOptions } from 'typesense/lib/Typesense/Configuration';\nimport type { SearchParams as TypesenseSearchParams } from 'typesense/lib/Typesense/Documents';\n\nimport { DocSearchButton } from './DocSearchButton';\nimport { DocSearchModal } from './DocSearchModal';\nimport type {\n  DocSearchHit,\n  InternalDocSearchHit,\n  StoredDocSearchHit,\n} from './types';\nimport { useDocSearchKeyboardEvents } from './useDocSearchKeyboardEvents';\n\nimport type { ButtonTranslations, ModalTranslations } from '.';\n\nexport type DocSearchTranslations = Partial<{\n  button: ButtonTranslations;\n  modal: ModalTranslations;\n}>;\n\nexport interface DocSearchProps {\n  typesenseCollectionName: string;\n  typesenseServerConfig: TypesenseConfigurationOptions;\n  typesenseSearchParameters: TypesenseSearchParams;\n  placeholder?: string;\n  transformItems?: (items: DocSearchHit[]) => DocSearchHit[];\n  hitComponent?: (props: {\n    hit: InternalDocSearchHit | StoredDocSearchHit;\n    children: React.ReactNode;\n  }) => JSX.Element;\n  resultsFooterComponent?: (props: {\n    state: AutocompleteState<InternalDocSearchHit>;\n  }) => JSX.Element | null;\n  transformSearchClient?: (searchClient: SearchClient) => SearchClient;\n  disableUserPersonalization?: boolean;\n  initialQuery?: string;\n  navigator?: AutocompleteOptions<InternalDocSearchHit>['navigator'];\n  translations?: DocSearchTranslations;\n  getMissingResultsUrl?: ({ query }: { query: string }) => string;\n}\n\nexport function DocSearch(props: DocSearchProps) {\n  const searchButtonRef = React.useRef<HTMLButtonElement>(null);\n  const [isOpen, setIsOpen] = React.useState(false);\n  const [initialQuery, setInitialQuery] = React.useState<string | undefined>(\n    props?.initialQuery || undefined\n  );\n\n  const onOpen = React.useCallback(() => {\n    setIsOpen(true);\n  }, [setIsOpen]);\n\n  const onClose = React.useCallback(() => {\n    setIsOpen(false);\n  }, [setIsOpen]);\n\n  const onInput = React.useCallback(\n    (event: KeyboardEvent) => {\n      setIsOpen(true);\n      setInitialQuery(event.key);\n    },\n    [setIsOpen, setInitialQuery]\n  );\n\n  useDocSearchKeyboardEvents({\n    isOpen,\n    onOpen,\n    onClose,\n    onInput,\n    searchButtonRef,\n  });\n\n  return (\n    <>\n      <DocSearchButton\n        ref={searchButtonRef}\n        translations={props?.translations?.button}\n        onClick={onOpen}\n      />\n\n      {isOpen &&\n        createPortal(\n          <DocSearchModal\n            {...props}\n            initialScrollY={window.scrollY}\n            initialQuery={initialQuery}\n            translations={props?.translations?.modal}\n            onClose={onClose}\n          />,\n          document.body\n        )}\n    </>\n  );\n}\n","export const version = '3.4.0-7';\n"],"names":["_extends","module","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","exports","apply","this","arr","Array","isArray","_i","Symbol","iterator","_s","_e","_x","_r","_arr","_n","_d","next","done","push","value","err","len","arr2","o","minLen","arrayLikeToArray","n","toString","slice","constructor","name","from","test","TypeError","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","excluded","sourceKeys","keys","indexOf","objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","ControlKeyIcon","React","createElement","width","height","className","d","strokeWidth","stroke","fill","strokeLinecap","SearchIcon","viewBox","fillRule","strokeLinejoin","ACTION_KEY_DEFAULT","DocSearchButton","forwardRef","_ref","ref","_ref$translations","translations","props","_objectWithoutProperties","_excluded","_translations$buttonT","buttonText","_translations$buttonA","buttonAriaLabel","_useState","useState","_useState2","_slicedToArray","setKey","useEffect","navigator","platform","type","Fragment","_typeof","obj","require$$0","input","hint","prim","toPrimitive","undefined","res","String","Number","arg","toPropertyKey","defineProperty","enumerable","configurable","writable","flatten","values","reduce","a","b","concat","autocompleteId","getItemsCount","state","collections","sum","collection","items","noop","userAgents","segment","version","createInternalCancelablePromise","promise","initialState","then","onfulfilled","onrejected","createCallback","catch","finally","onfinally","onCancelList","cancel","isCanceled","callbacks","forEach","callback","cancelable","onResult","fallback","getNextActiveItemId","moveAmount","baseIndex","itemCount","defaultActiveItemId","numericIndex","ownKeys","object","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","getActiveItem","collectionIndex","map","acc","collectionsCount","index","nextValue","current","activeItemId","getCollectionFromActiveItemId","item","isOffsetFound","counter","previousItemsOffset","currentCollection","getRelativeActiveItemId","itemInputValue","getItemInputValue","itemUrl","getItemUrl","regex","createStore","reducer","onStoreStateChange","list","getState","dispatch","action","payload","prevState","pendingRequests","add","cancelablePromise","cancelAll","isEmpty","_toConsumableArray","_arrayLikeToArray","_arrayWithoutHoles","iter","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","getDefaultProps","pluginSubscribers","_props$id","environment","window","plugins","debug","openOnFocus","placeholder","autoFocus","stallThreshold","shouldPanelOpen","reshape","_ref2","sources","id","query","completion","isOpen","status","context","onStateChange","params","_props$onStateChange","x","_x$onStateChange","onSubmit","_props$onSubmit","_x$onSubmit","onReset","_props$onReset","_x$onReset","getSources","Promise","all","plugin","Boolean","seenSourceIds","resolve","maybeSource","sourceId","includes","Error","JSON","stringify","defaultSource","onSelect","setIsOpen","onActive","onResolve","__default","normalizedSource","getNormalizedSources","nested","_x$onSelect","_x$onActive","_x$onResolve","navigate","_ref3","location","navigateNewTab","_ref4","windowReference","open","focus","navigateNewWindow","_ref5","isDescription","execute","preResolve","itemsOrDescription","description","contextParameters","requesterId","_state$context$key","__algoliaSearchParameters","requests","queries","transformResponse","searchClient","container","find","_container$items","request","maybeDescription","responses","postResolve","store","matches","response","results","transform","rawResults","result","_hits","hits","hit","__autocomplete_indexName","__autocomplete_queryID","queryID","facetHits","_facetHits","facetHit","label","count","_highlightResult","highlighted","mapToAlgoliaResponse","every","_objectWithoutPropertiesLoose","basePromiseId","latestResolvedId","latestResolvedValue","lastStalledId","runConcurrentSafePromise","currentPromiseId","onInput","event","_ref$nextState","nextState","refresh","setters","clearTimeout","setCollections","setQuery","setActiveItemId","setStatus","_nextState$isOpen","_request","setTimeout","getItems","originalSourcesBySourceId","sourcesBySourceId","_nextState$isOpen2","isPanelOpen","highlightedItem","_excluded2","_excluded3","_excluded4","_excluded5","_excluded6","_excluded7","getPropGetters","getAutocompleteId","instanceId","getEnvironmentProps","providedProps","inputElement","formElement","panelElement","onMouseDownOrTouchStart","some","contextNode","parent","child","contains","onTouchStart","onMouseDown","onTouchMove","document","activeElement","blur","getRootProps","rest","role","getFormProps","noValidate","_providedProps$inputE","preventDefault","_providedProps$inputE2","getLabelProps","sourceIndex","htmlFor","getInputProps","_props$environment$na","onFocus","_ref2$maxLength","maxLength","activeItem","shouldFallbackKeyHint","userAgent","match","isSamsung","enterKeyHint","autoComplete","autoCorrect","autoCapitalize","spellCheck","onChange","currentTarget","onKeyDown","triggerScrollIntoView","nodeItem","getElementById","scrollIntoViewIfNeeded","scrollIntoView","triggerOnActive","nextActiveItemId","metaKey","ctrlKey","shiftKey","altKey","_onKeyDown","onBlur","onClick","getPanelProps","onMouseLeave","getListProps","getItemProps","__autocomplete_id","onMouseMove","_item","_source","getMetadata","_","_options$__autocomple","_options$__autocomple2","_options$__autocomple3","options","optionsKey","__autocomplete_metadata","extraOptions","__autocomplete_pluginOptions","ua","getCompletion","_getActiveItem","stateReducer","_nextState","createAutocomplete","subscribers","rawValue","baseItemId","setContext","getAutocompleteSetters","propGetters","Event","_plugin$subscribe","subscribe","fn","_environment$navigato","_environment$navigato2","metadata","metadataContainer","headRef","querySelector","content","appendChild","injectMetadata","TypesenseLogo","_translations$searchB","searchByText","href","hostname","rel","xmlns","CommandIcon","ariaLabel","children","Footer","_translations$selectT","selectText","_translations$selectK","selectKeyAriaLabel","_translations$navigat","navigateText","_translations$navigat2","navigateUpKeyAriaLabel","_translations$navigat3","navigateDownKeyAriaLabel","_translations$closeTe","closeText","_translations$closeKe","closeKeyAriaLabel","Hit","url","LoadingIcon","strokeOpacity","cx","cy","r","attributeName","to","dur","repeatCount","RecentIcon","ResetIcon","SelectIcon","LvlIcon","SourceIcon","ContentIcon","AnchorIcon","StarIcon","ErrorIcon","NoResultsIcon","ErrorScreen","_translations$titleTe","titleText","_translations$helpTex","helpText","arrayWithoutHoles","iterableToArray","nonIterableSpread","NoResultsScreen","_translations$noResul","noResultsText","_translations$suggest","suggestedQueryText","_translations$reportM","reportMissingResultsText","_translations$reportM2","reportMissingResultsLinkText","searchSuggestions","search","toLowerCase","inputRef","getMissingResultsUrl","Snippet","_hit$_highlightResult","_hit$_highlightResult2","_hit$_snippetResult","_hit$_snippetResult$a","attribute","_ref$tagName","tagName","displayValue","_snippetResult","_hit$_snippetResult2","_hit$_snippetResult2$","snippetValue","substring","dangerouslySetInnerHTML","__html","Results","title","Result","objectID","join","renderIcon","renderAction","onItemClick","hitComponent","_React$useState","_React$useState2","isDeleting","setIsDeleting","_React$useState3","_React$useState4","isFavoriting","setIsFavoriting","useRef","__docsearch_parent","onTransitionEnd","runDeleteTransition","cb","runFavoriteTransition","groupBy","predicate","identity","regexHighlightTags","regexHasHighlightTags","RegExp","removeHighlightTags","_internalDocSearchHit","_internalDocSearchHit2","internalDocSearchHit","replace","ResultsScreen","_collection$items","resultsFooterComponent","StartScreen","_translations$recentS","recentSearchesTitle","_translations$noRecen","noRecentSearchesText","_translations$saveRec","saveRecentSearchButtonTitle","_translations$removeR","removeRecentSearchButtonTitle","_translations$favorit","favoriteSearchesTitle","_translations$removeF","removeFavoriteSearchButtonTitle","hasCollections","disableUserPersonalization","stopPropagation","favoriteSearches","recentSearches","remove","ScreenState","memo","errorScreen","noResultsScreen","startScreen","_prevProps","nextProps","SearchBox","_translations$resetBu","resetButtonTitle","_translations$resetBu2","resetButtonAriaLabel","_translations$cancelB","cancelButtonText","_translations$cancelB2","cancelButtonAriaLabel","isFromSelection","select","hidden","onClose","createStorage","localStorage","setItem","removeItem","error","isLocalStorageSupported","getItem","parse","createStoredSearches","_ref$limit","limit","storage","isQueryAlreadySaved","findIndex","splice","unshift","getAll","asyncGeneratorStep","gen","reject","_next","_throw","info","self","args","_regeneratorRuntime","Op","hasOwn","desc","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","Context","makeInvokeMethod","tryCatch","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","method","_invoke","AsyncIterator","PromiseImpl","invoke","record","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","methodName","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","val","reverse","pop","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","globalThis","Function","DocSearchModal","typesenseCollectionName","typesenseServerConfig","typesenseSearchParameters","_ref$placeholder","_ref$onClose","_ref$transformItems","transformItems","_ref$hitComponent","_ref$resultsFooterCom","_ref$initialScrollY","initialScrollY","_ref$transformSearchC","transformSearchClient","_ref$disableUserPerso","_ref$initialQuery","initialQuery","initialQueryFromProp","footerTranslations","footer","searchBoxTranslations","searchBox","screenStateTranslations","setState","indexName","containerRef","modalRef","formElementRef","dropdownRef","snippetLength","initialQueryFromSelection","getSelection","useMemo","_search","typesense","TypesenseSearchClient","client","_asyncToGenerator","_callee","typesenseSearchResponseAdapter","_context","multiSearch","perform","searches","TypesenseSearchResponseAdapter","highlightPreTag","highlightPostTag","geoLocationField","adapt","useSearchClient","saveRecentSearch","useCallback","autocomplete","sourcesState","q","query_by","include_fields","highlight_full_fields","group_by","group_limit","sort_by","snippet_threshold","highlight_affix_num_tokens","_ref7","_results$","nbHits","_ref8","_ref9","groupedHits","siblingItem","flat","_ref6","_getEnvironmentProps","addEventListener","removeEventListener","useTouchEvents","focusableElements","querySelectorAll","firstElement","lastElement","trapFocus","useTrapFocus","body","classList","_window$scrollTo","_window","scrollTo","matchMedia","scrollTop","setFullViewportHeight","vh","innerHeight","style","setProperty","tabIndex","useDocSearchKeyboardEvents","onOpen","searchButtonRef","keyCode","element","isContentEditable","isEditingContent","fromCharCode","_props$translations","_props$translations2","setInitialQuery","button","createPortal","scrollY","modal"],"mappings":"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"}